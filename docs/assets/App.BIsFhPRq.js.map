{"version":3,"file":"App.BIsFhPRq.js","sources":["../../src/components/Editor/JsonEditor.tsx","../../src/components/Settings/ThemeSelector.tsx","../../src/constants/zIndex.ts","../../src/components/Settings/SettingsPanel.tsx","../../src/components/FileManager/FileOperations.tsx","../../src/components/FileManager/FileDropZone.tsx","../../src/components/SearchReplace/SearchPanel.tsx","../../src/components/UI/ErrorBoundary.tsx","../../src/components/UI/Toast.tsx","../../src/components/UI/ToastContainer.tsx","../../src/components/UI/Modal.tsx","../../src/App.tsx","../../src/hooks/useToast.ts","../../src/hooks/useModal.ts","../../src/hooks/useKeyboardShortcuts.ts"],"sourcesContent":["import {\n  useRef,\n  useEffect,\n  useImperativeHandle,\n  forwardRef,\n  useCallback,\n} from 'react';\nimport Editor, { type OnMount, type OnChange } from '@monaco-editor/react';\nimport type {\n  MonacoEditorProps,\n  EditorMethods,\n} from '../../types/editor.types';\n\nconst JsonEditor = forwardRef<EditorMethods, MonacoEditorProps>(\n  (\n    {\n      value,\n      onChange,\n      onValidationChange,\n      onCursorPositionChange,\n      onSelectionChange,\n      theme,\n      settings,\n    },\n    ref\n  ) => {\n    const editorRef = useRef<any>(null);\n    const monacoRef = useRef<any>(null);\n\n    // Editor methods that can be called from parent components\n    const formatDocument = useCallback(() => {\n      if (editorRef.current) {\n        editorRef.current.trigger('editor', 'editor.action.formatDocument', {});\n      }\n    }, []);\n\n    const undo = useCallback(() => {\n      if (editorRef.current) {\n        editorRef.current.trigger('editor', 'undo', {});\n      }\n    }, []);\n\n    const redo = useCallback(() => {\n      if (editorRef.current) {\n        editorRef.current.trigger('editor', 'redo', {});\n      }\n    }, []);\n\n    const selectAll = useCallback(() => {\n      if (editorRef.current) {\n        editorRef.current.trigger('editor', 'editor.action.selectAll', {});\n      }\n    }, []);\n\n    const find = useCallback(() => {\n      if (editorRef.current) {\n        try {\n          // 确保编辑器获得焦点\n          editorRef.current.focus();\n\n          // 使用Monaco编辑器的内置命令\n          const editor = editorRef.current;\n          const monaco = monacoRef.current;\n\n          // 方法1: 使用actions.find命令ID (这是Monaco推荐的方式)\n          try {\n            editor.trigger('keyboard', 'actions.find', null);\n            return;\n          } catch (e) {\n            console.log('Method 1 failed:', e);\n          }\n\n          // 方法2: 使用editor.action.startFindAction命令ID (备用方式)\n          try {\n            editor.trigger('keyboard', 'editor.action.startFindAction', null);\n            return;\n          } catch (e) {\n            console.log('Method 2 failed:', e);\n          }\n\n          // 方法3: 使用编辑器的内置操作\n          try {\n            // Use getAction for specific actions instead of getActions\n            const actions = [];\n            const findAction1 = (editor as any).getAction('actions.find');\n            const findAction2 = (editor as any).getAction(\n              'editor.action.startFindAction'\n            );\n            if (findAction1) actions.push(findAction1);\n            if (findAction2) actions.push(findAction2);\n\n            // Try to find any action with 'find' in its ID\n            const findAction = actions.find(\n              (a: { id: string; run: () => void }) =>\n                a.id === 'actions.find' ||\n                a.id === 'editor.action.startFindAction' ||\n                a.id.toLowerCase().includes('find')\n            );\n            if (findAction) {\n              findAction.run();\n              return;\n            }\n          } catch (e) {\n            console.log('Method 3 failed:', e);\n          }\n\n          // 方法4: 使用Monaco的键盘命令\n          try {\n            if (monaco) {\n              editor.trigger(\n                'keyboard',\n                monaco.KeyMod.CtrlCmd | monaco.KeyCode.KeyF,\n                null\n              );\n              return;\n            }\n          } catch (e) {\n            console.log('Method 4 failed:', e);\n          }\n\n          // 方法5: 使用浏览器的原生搜索 (最后的备选方案)\n          try {\n            // Use window.find as a fallback, but need to declare it properly for TypeScript\n            (window as any).find();\n          } catch (e) {\n            console.log('Method 5 failed:', e);\n          }\n        } catch (error) {\n          console.error('Error in find function:', error);\n        }\n      }\n    }, []);\n\n    const replace = useCallback(() => {\n      if (editorRef.current) {\n        try {\n          // 确保编辑器获得焦点\n          editorRef.current.focus();\n\n          // 使用Monaco编辑器的内置命令\n          const editor = editorRef.current;\n          const monaco = monacoRef.current;\n\n          // 方法1: 使用editor.action.startFindReplaceAction命令ID (主要方式)\n          try {\n            editor.trigger(\n              'keyboard',\n              'editor.action.startFindReplaceAction',\n              null\n            );\n            return;\n          } catch (e) {\n            console.log('Method 1 failed:', e);\n          }\n\n          // 方法2: 使用actions.findWithReplace命令ID (备用方式)\n          try {\n            editor.trigger('keyboard', 'actions.findWithReplace', null);\n            return;\n          } catch (e) {\n            console.log('Method 2 failed:', e);\n          }\n\n          // 方法3: 使用编辑器的内置操作\n          try {\n            // Use getAction for specific actions instead of getActions\n            const actions = [];\n            const replaceAction1 = (editor as any).getAction(\n              'editor.action.startFindReplaceAction'\n            );\n            const replaceAction2 = (editor as any).getAction(\n              'actions.findWithReplace'\n            );\n            if (replaceAction1) actions.push(replaceAction1);\n            if (replaceAction2) actions.push(replaceAction2);\n\n            // Try to find any action with 'replace' in its ID\n            const replaceAction = actions.find(\n              (a: { id: string; run: () => void }) =>\n                a.id === 'editor.action.startFindReplaceAction' ||\n                a.id === 'actions.findWithReplace' ||\n                a.id.toLowerCase().includes('replace')\n            );\n            if (replaceAction) {\n              replaceAction.run();\n              return;\n            }\n          } catch (e) {\n            console.log('Method 3 failed:', e);\n          }\n\n          // 方法4: 使用Monaco的键盘命令\n          try {\n            if (monaco) {\n              editor.trigger(\n                'keyboard',\n                monaco.KeyMod.CtrlCmd | monaco.KeyCode.KeyH,\n                null\n              );\n              return;\n            }\n          } catch (e) {\n            console.log('Method 4 failed:', e);\n          }\n        } catch (error) {\n          console.error('Error in replace function:', error);\n        }\n      }\n    }, []);\n\n    const gotoLine = useCallback((line: number, column?: number) => {\n      if (editorRef.current) {\n        editorRef.current.revealLineInCenter(line);\n        editorRef.current.setPosition({\n          lineNumber: line,\n          column: column || 1,\n        });\n        editorRef.current.focus();\n      }\n    }, []);\n\n    const getSelection = useCallback(() => {\n      if (editorRef.current) {\n        return editorRef.current.getSelection();\n      }\n      return null;\n    }, []);\n\n    const getSelectedText = useCallback(() => {\n      if (editorRef.current) {\n        const selection = editorRef.current.getSelection();\n        const model = editorRef.current.getModel();\n        if (selection && model) {\n          return model.getValueInRange(selection);\n        }\n      }\n      return '';\n    }, []);\n\n    const insertText = useCallback((text: string) => {\n      if (editorRef.current) {\n        const selection = editorRef.current.getSelection();\n        const range = selection || new monacoRef.current.Range(1, 1, 1, 1);\n        editorRef.current.executeEdits('insert-text', [\n          {\n            range,\n            text,\n            forceMoveMarkers: true,\n          },\n        ]);\n      }\n    }, []);\n\n    const canUndo = useCallback(() => {\n      if (editorRef.current) {\n        const model = editorRef.current.getModel();\n        return model ? model.canUndo() : false;\n      }\n      return false;\n    }, []);\n\n    const canRedo = useCallback(() => {\n      if (editorRef.current) {\n        const model = editorRef.current.getModel();\n        return model ? model.canRedo() : false;\n      }\n      return false;\n    }, []);\n\n    // Expose methods to parent components\n    useImperativeHandle(\n      ref,\n      () => ({\n        formatDocument,\n        undo,\n        redo,\n        selectAll,\n        find,\n        replace,\n        gotoLine,\n        getSelection,\n        getSelectedText,\n        insertText,\n        canUndo,\n        canRedo,\n        focus: () => editorRef.current?.focus(),\n        getEditor: () => editorRef.current,\n        getMonaco: () => monacoRef.current,\n      }),\n      [\n        formatDocument,\n        undo,\n        redo,\n        selectAll,\n        find,\n        replace,\n        gotoLine,\n        getSelection,\n        getSelectedText,\n        insertText,\n        canUndo,\n        canRedo,\n      ]\n    );\n\n    const handleEditorDidMount: OnMount = (editor, monaco) => {\n      editorRef.current = editor;\n      monacoRef.current = monaco;\n\n      // 配置搜索控件，防止自动关闭\n      editor.updateOptions({\n        find: {\n          addExtraSpaceOnTop: true,\n          autoFindInSelection: 'never',\n          seedSearchStringFromSelection: 'always',\n          loop: true,\n          // Removed closeOnFocusLost as it's not in IEditorFindOptions\n        },\n      });\n\n      // Configure JSON language settings with enhanced validation\n      monaco.languages.json.jsonDefaults.setDiagnosticsOptions({\n        validate: true,\n        allowComments: false,\n        schemas: [],\n        enableSchemaRequest: false,\n        schemaValidation: 'error',\n        schemaRequest: 'error',\n      });\n\n      // Enhanced bracket matching configuration\n      monaco.languages.setLanguageConfiguration('json', {\n        brackets: [\n          ['{', '}'],\n          ['[', ']'],\n          ['\"', '\"'],\n        ],\n        autoClosingPairs: [\n          { open: '{', close: '}' },\n          { open: '[', close: ']' },\n          { open: '\"', close: '\"', notIn: ['string'] },\n        ],\n        surroundingPairs: [\n          { open: '{', close: '}' },\n          { open: '[', close: ']' },\n          { open: '\"', close: '\"' },\n        ],\n      });\n\n      // 添加搜索窗口状态监听器\n      const findController = editor.getContribution(\n        'editor.contrib.findController'\n      ) as any;\n      if (findController && typeof findController.getState === 'function') {\n        // 监听搜索控制器状态变化\n        editor.onDidBlurEditorWidget(() => {\n          // 当编辑器失去焦点时，尝试保持搜索窗口打开\n          setTimeout(() => {\n            try {\n              const state = findController.getState();\n              if (state && state.isRevealed) {\n                // 如果搜索窗口已经打开，尝试保持它打开\n                findController.focus && findController.focus();\n              }\n            } catch (e) {\n              console.log('Error keeping find widget open:', e);\n            }\n          }, 100);\n        });\n      }\n\n      // Add keyboard shortcut for search (Ctrl+F)\n      editor.addCommand(monaco.KeyMod.CtrlCmd | monaco.KeyCode.KeyF, () => {\n        // This will open the search widget\n        // Use getAction for each action ID instead of getActions\n        const actions = [];\n        const findAction1 = editor.getAction('actions.find');\n        const findAction2 = editor.getAction('editor.action.startFindAction');\n        if (findAction1) actions.push(findAction1);\n        if (findAction2) actions.push(findAction2);\n\n        // Try to find the search action\n        const findAction = actions.find(\n          (a: { id: string; run: () => void }) =>\n            a.id === 'actions.find' || a.id === 'editor.action.startFindAction'\n        );\n\n        if (findAction) {\n          findAction.run();\n        } else {\n          // Fallback to trigger method\n          editor.trigger('keyboard', 'actions.find', null);\n        }\n      });\n\n      // Add keyboard shortcut for replace (Ctrl+H)\n      editor.addCommand(monaco.KeyMod.CtrlCmd | monaco.KeyCode.KeyH, () => {\n        // This will open the replace widget\n        // Use getAction for each action ID instead of getActions\n        const actions = [];\n        const replaceAction1 = editor.getAction(\n          'editor.action.startFindReplaceAction'\n        );\n        const replaceAction2 = editor.getAction('actions.findWithReplace');\n        if (replaceAction1) actions.push(replaceAction1);\n        if (replaceAction2) actions.push(replaceAction2);\n\n        // Try to find the replace action\n        const replaceAction = actions.find(\n          (a: { id: string; run: () => void }) =>\n            a.id === 'editor.action.startFindReplaceAction'\n        );\n\n        if (replaceAction) {\n          replaceAction.run();\n        } else {\n          // Fallback to trigger method\n          editor.trigger(\n            'keyboard',\n            'editor.action.startFindReplaceAction',\n            null\n          );\n        }\n      });\n\n      const model = editor.getModel();\n      if (model) {\n        // Set up validation change listener with enhanced error reporting\n        const markersDisposable = monaco.editor.onDidChangeMarkers((uris) => {\n          const editorUri = model.uri;\n          if (uris.find((uri) => uri.toString() === editorUri.toString())) {\n            const markers = monaco.editor.getModelMarkers({\n              resource: editorUri,\n            });\n            const errors = markers.map((marker) => ({\n              line: marker.startLineNumber,\n              column: marker.startColumn,\n              message: marker.message,\n              severity:\n                marker.severity === monaco.MarkerSeverity.Error\n                  ? ('error' as const)\n                  : ('warning' as const),\n            }));\n            onValidationChange(errors);\n          }\n        });\n\n        // Set up cursor position change listener\n        const cursorDisposable = editor.onDidChangeCursorPosition((e) => {\n          if (onCursorPositionChange) {\n            onCursorPositionChange({\n              line: e.position.lineNumber,\n              column: e.position.column,\n            });\n          }\n        });\n\n        // Set up selection change listener\n        const selectionDisposable = editor.onDidChangeCursorSelection((e) => {\n          if (onSelectionChange) {\n            onSelectionChange({\n              startLine: e.selection.startLineNumber,\n              startColumn: e.selection.startColumn,\n              endLine: e.selection.endLineNumber,\n              endColumn: e.selection.endColumn,\n            });\n          }\n        });\n\n        // Set up content change listener for undo/redo state\n        const contentDisposable = model.onDidChangeContent(() => {\n          // This will trigger validation automatically\n          // Additional logic can be added here for undo/redo state tracking\n        });\n\n        // Enhanced keyboard shortcuts\n        editor.addCommand(monaco.KeyMod.CtrlCmd | monaco.KeyCode.KeyD, () => {\n          // Duplicate line\n          editor.trigger('keyboard', 'editor.action.copyLinesDownAction', {});\n        });\n\n        editor.addCommand(\n          monaco.KeyMod.CtrlCmd | monaco.KeyMod.Shift | monaco.KeyCode.KeyK,\n          () => {\n            // Delete line\n            editor.trigger('keyboard', 'editor.action.deleteLines', {});\n          }\n        );\n\n        editor.addCommand(monaco.KeyMod.CtrlCmd | monaco.KeyCode.Slash, () => {\n          // Toggle line comment (though JSON doesn't support comments, this is for future extensibility)\n          editor.trigger('keyboard', 'editor.action.commentLine', {});\n        });\n\n        // Clean up on unmount\n        return () => {\n          markersDisposable.dispose();\n          cursorDisposable.dispose();\n          selectionDisposable.dispose();\n          contentDisposable.dispose();\n        };\n      }\n    };\n\n    const handleEditorChange: OnChange = (value) => {\n      if (value !== undefined) {\n        onChange(value);\n      }\n    };\n\n    // Update editor options when settings change\n    useEffect(() => {\n      if (editorRef.current) {\n        editorRef.current.updateOptions({\n          tabSize: settings.indentSize,\n          insertSpaces: settings.indentType === 'spaces',\n          wordWrap: settings.wordWrap ? 'on' : 'off',\n          lineNumbers: settings.lineNumbers ? 'on' : 'off',\n          minimap: { enabled: settings.minimap },\n        });\n      }\n    }, [settings]);\n\n    const editorOptions: any = {\n      language: 'json',\n      theme: theme === 'dark' ? 'vs-dark' : 'vs',\n      automaticLayout: true,\n      fontSize: 14,\n      fontFamily: 'Monaco, Menlo, \"Ubuntu Mono\", monospace',\n      tabSize: settings.indentSize,\n      insertSpaces: settings.indentType === 'spaces',\n      wordWrap: settings.wordWrap ? 'on' : 'off',\n      lineNumbers: settings.lineNumbers ? 'on' : 'off',\n      minimap: { enabled: settings.minimap },\n      scrollBeyondLastLine: false,\n      renderWhitespace: 'selection',\n\n      // Enhanced bracket and matching features\n      bracketPairColorization: { enabled: true },\n      matchBrackets: 'always',\n      showFoldingControls: 'always',\n      foldingStrategy: 'indentation',\n      foldingHighlight: true,\n\n      // Enhanced auto-completion and suggestions\n      autoClosingBrackets: 'always',\n      autoClosingQuotes: 'always',\n      autoClosingDelete: 'always',\n      autoClosingOvertype: 'always',\n      autoSurround: 'languageDefined',\n      autoIndent: 'full',\n      formatOnPaste: true,\n      formatOnType: true,\n\n      // Enhanced IntelliSense\n      suggest: {\n        showKeywords: true,\n        showSnippets: true,\n        showFunctions: true,\n        showConstructors: true,\n        showFields: true,\n        showVariables: true,\n        showClasses: true,\n        showStructs: true,\n        showInterfaces: true,\n        showModules: true,\n        showProperties: true,\n        showEvents: true,\n        showOperators: true,\n        showUnits: true,\n        showValues: true,\n        showConstants: true,\n        showEnums: true,\n        showEnumMembers: true,\n        showColors: true,\n        showFiles: true,\n        showReferences: true,\n        showFolders: true,\n        showTypeParameters: true,\n        showIssues: true,\n        showUsers: true,\n        insertMode: 'insert',\n        filterGraceful: true,\n        snippetsPreventQuickSuggestions: false,\n      },\n\n      quickSuggestions: {\n        other: true,\n        comments: false,\n        strings: true,\n      },\n\n      // Enhanced editing features\n      multiCursorModifier: 'ctrlCmd',\n      multiCursorMergeOverlapping: true,\n      multiCursorPaste: 'spread',\n\n      // Find and replace enhancements\n      find: {\n        addExtraSpaceOnTop: true,\n        autoFindInSelection: 'never',\n        seedSearchStringFromSelection: 'always',\n        loop: true,\n        // Removed closeOnFocusLost as it's not in IEditorFindOptions\n      },\n\n      // Enhanced error and warning display\n      renderValidationDecorations: 'on',\n      renderLineHighlight: 'all',\n      renderLineHighlightOnlyWhenFocus: false,\n\n      // Undo/Redo enhancements\n      undoStopOnWordBoundary: true,\n\n      // Performance optimizations\n      largeFileOptimizations: true,\n\n      // Accessibility features\n      accessibilitySupport: 'auto',\n      ariaLabel: 'PDX JSON Editor',\n\n      // Selection and cursor enhancements\n      cursorBlinking: 'blink',\n      cursorSmoothCaretAnimation: 'on',\n      cursorStyle: 'line',\n      cursorWidth: 2,\n\n      // Scrolling enhancements\n      smoothScrolling: true,\n      mouseWheelScrollSensitivity: 1,\n      fastScrollSensitivity: 5,\n    };\n\n    return (\n      <div className=\"w-full h-full\">\n        <Editor\n          value={value}\n          onChange={handleEditorChange}\n          onMount={handleEditorDidMount}\n          options={editorOptions}\n          loading={\n            <div className=\"flex items-center justify-center h-full\">\n              <div className=\"text-gray-500\">Loading editor...</div>\n            </div>\n          }\n        />\n      </div>\n    );\n  }\n);\n\nexport default JsonEditor;\n","import React from 'react';\n\ninterface ThemeSelectorProps {\n  theme: 'light' | 'dark';\n  onThemeChange: (theme: 'light' | 'dark') => void;\n  disabled?: boolean;\n}\n\nconst ThemeSelector: React.FC<ThemeSelectorProps> = ({\n  theme,\n  onThemeChange,\n  disabled = false,\n}) => {\n  const handleToggle = () => {\n    if (disabled) return;\n    onThemeChange(theme === 'light' ? 'dark' : 'light');\n  };\n\n  const buttonClass = `\n    relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 ease-in-out\n    ${disabled ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}\n    ${theme === 'dark' ? 'bg-blue-600' : 'bg-gray-200'}\n    focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\n  `;\n\n  const switchClass = `\n    inline-block h-4 w-4 transform rounded-full bg-white transition duration-200 ease-in-out\n    ${theme === 'dark' ? 'translate-x-6' : 'translate-x-1'}\n  `;\n\n  return (\n    <div className=\"flex items-center space-x-3\">\n      {/* Light theme icon */}\n      <span\n        className={`text-sm ${theme === 'light' ? 'text-yellow-500' : 'text-gray-400'}`}\n        title=\"Light theme\"\n      >\n        ☀️\n      </span>\n\n      {/* Toggle switch */}\n      <button\n        type=\"button\"\n        className={buttonClass}\n        onClick={handleToggle}\n        disabled={disabled}\n        role=\"switch\"\n        aria-checked={theme === 'dark'}\n        aria-label={`Switch to ${theme === 'light' ? 'dark' : 'light'} theme`}\n      >\n        <span className={switchClass} />\n      </button>\n\n      {/* Dark theme icon */}\n      <span\n        className={`text-sm ${theme === 'dark' ? 'text-blue-400' : 'text-gray-400'}`}\n        title=\"Dark theme\"\n      >\n        🌙\n      </span>\n\n      {/* Theme label */}\n      <span\n        className={`text-sm font-medium ${\n          theme === 'dark' ? 'text-gray-200' : 'text-gray-700'\n        }`}\n      >\n        {theme === 'light' ? 'Light' : 'Dark'}\n      </span>\n    </div>\n  );\n};\n\nexport default ThemeSelector;\n","/**\n * Z-Index常量\n *\n * 这个文件定义了应用程序中使用的所有z-index值，\n * 以确保组件之间的层叠顺序一致。\n */\n\nconst Z_INDEX = {\n  // 基础层级\n  BASE: 1,\n\n  // 下拉菜单和工具提示\n  DROPDOWN: 10,\n  TOOLTIP: 20,\n\n  // 编辑器组件\n  EDITOR_GUTTER: 30,\n  EDITOR_CONTENT: 40,\n\n  // 面板组件\n  SEARCH_PANEL: 100,\n\n  // 模态窗口组件\n  MODAL_OVERLAY: 9000,\n  MODAL_CONTENT: 9100,\n\n  // 顶层组件（通知、警告等）\n  TOAST: 9500,\n};\n\nexport default Z_INDEX;\n","import React, { useState, useEffect, useRef } from 'react';\nimport type { EditorSettings } from '../../types/editor.types';\nimport { ThemeSelector } from './index';\nimport Z_INDEX from '../../constants/zIndex';\n\ninterface SettingsPanelProps {\n  isOpen: boolean;\n  onClose: () => void;\n  settings: EditorSettings;\n  onSettingsChange: (settings: Partial<EditorSettings>) => void;\n  theme: 'light' | 'dark';\n  onThemeChange: (theme: 'light' | 'dark') => void;\n}\n\nconst SettingsPanel: React.FC<SettingsPanelProps> = ({\n  isOpen,\n  onClose,\n  settings,\n  onSettingsChange,\n  theme,\n  onThemeChange,\n}) => {\n  const [localSettings, setLocalSettings] = useState<EditorSettings>(settings);\n  const modalRef = useRef<HTMLDivElement>(null);\n\n  // Update local settings when props change\n  useEffect(() => {\n    setLocalSettings(settings);\n  }, [settings]);\n\n  // Handle settings changes\n  const handleSettingChange = <K extends keyof EditorSettings>(\n    key: K,\n    value: EditorSettings[K]\n  ) => {\n    const newSettings = { ...localSettings, [key]: value };\n    setLocalSettings(newSettings);\n    onSettingsChange({ [key]: value });\n  };\n\n  // Reset settings to defaults\n  const handleReset = () => {\n    const defaultSettings: EditorSettings = {\n      indentSize: 2,\n      indentType: 'spaces',\n      wordWrap: false,\n      lineNumbers: true,\n      minimap: true,\n    };\n    setLocalSettings(defaultSettings);\n    onSettingsChange(defaultSettings);\n  };\n\n  // Handle ESC key press to close modal\n  useEffect(() => {\n    const handleEscKey = (event: KeyboardEvent) => {\n      if (event.key === 'Escape' && isOpen) {\n        onClose();\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('keydown', handleEscKey);\n      document.body.style.overflow = 'hidden'; // Prevent background scrolling\n    }\n\n    return () => {\n      document.removeEventListener('keydown', handleEscKey);\n      document.body.style.overflow = ''; // Restore scrolling\n    };\n  }, [isOpen, onClose]);\n\n  // Focus trap inside modal\n  useEffect(() => {\n    if (isOpen && modalRef.current) {\n      modalRef.current.focus();\n    }\n  }, [isOpen]);\n\n  if (!isOpen) return null;\n\n  return (\n    <div\n      style={{\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: 'rgba(0, 0, 0, 0.5)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        zIndex: Z_INDEX.MODAL_OVERLAY,\n      }}\n    >\n      <div\n        ref={modalRef}\n        tabIndex={-1}\n        style={{\n          backgroundColor: theme === 'dark' ? '#1f2937' : 'white',\n          borderRadius: '0.5rem',\n          padding: '1.5rem',\n          boxShadow:\n            '0 4px 6px rgba(0, 0, 0, 0.1), 0 1px 3px rgba(0, 0, 0, 0.08)',\n          maxHeight: '80vh',\n          overflowY: 'auto',\n          width: '95%',\n          maxWidth: '450px',\n          position: 'relative',\n          zIndex: Z_INDEX.MODAL_CONTENT,\n        }}\n      >\n        {/* Header */}\n        <div className=\"flex justify-between items-center mb-6\">\n          <h2 className=\"text-xl font-semibold text-gray-900 dark:text-gray-100\">\n            编辑器设置\n          </h2>\n          <button\n            onClick={onClose}\n            className=\"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-xl font-bold w-8 h-8 flex items-center justify-center rounded hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\"\n            aria-label=\"关闭设置\"\n          >\n            ✕\n          </button>\n        </div>\n\n        <div className=\"space-y-6\">\n          {/* Theme Settings */}\n          <div>\n            <h3 className=\"text-sm font-medium text-gray-900 dark:text-gray-100 mb-3\">\n              外观\n            </h3>\n            <div className=\"pl-4\">\n              <ThemeSelector theme={theme} onThemeChange={onThemeChange} />\n            </div>\n          </div>\n\n          {/* Editor Settings */}\n          <div>\n            <h3 className=\"text-sm font-medium text-gray-900 dark:text-gray-100 mb-3\">\n              编辑器\n            </h3>\n            <div className=\"space-y-4 pl-4\">\n              {/* Indent Size */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  缩进大小\n                </label>\n                <select\n                  value={localSettings.indentSize}\n                  onChange={(e) =>\n                    handleSettingChange(\n                      'indentSize',\n                      Number(e.target.value) as 2 | 4\n                    )\n                  }\n                  className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                >\n                  <option value={2}>2 个空格</option>\n                  <option value={4}>4 个空格</option>\n                </select>\n              </div>\n\n              {/* Indent Type */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  缩进类型\n                </label>\n                <div className=\"flex space-x-4\">\n                  <label className=\"flex items-center\">\n                    <input\n                      type=\"radio\"\n                      name=\"indentType\"\n                      value=\"spaces\"\n                      checked={localSettings.indentType === 'spaces'}\n                      onChange={(e) =>\n                        handleSettingChange(\n                          'indentType',\n                          e.target.value as 'spaces' | 'tabs'\n                        )\n                      }\n                      className=\"mr-2 text-blue-600 focus:ring-blue-500\"\n                    />\n                    <span className=\"text-sm text-gray-700 dark:text-gray-300\">\n                      空格\n                    </span>\n                  </label>\n                  <label className=\"flex items-center\">\n                    <input\n                      type=\"radio\"\n                      name=\"indentType\"\n                      value=\"tabs\"\n                      checked={localSettings.indentType === 'tabs'}\n                      onChange={(e) =>\n                        handleSettingChange(\n                          'indentType',\n                          e.target.value as 'spaces' | 'tabs'\n                        )\n                      }\n                      className=\"mr-2 text-blue-600 focus:ring-blue-500\"\n                    />\n                    <span className=\"text-sm text-gray-700 dark:text-gray-300\">\n                      制表符\n                    </span>\n                  </label>\n                </div>\n              </div>\n\n              {/* Word Wrap */}\n              <div>\n                <label className=\"flex items-center\">\n                  <input\n                    type=\"checkbox\"\n                    checked={localSettings.wordWrap}\n                    onChange={(e) =>\n                      handleSettingChange('wordWrap', e.target.checked)\n                    }\n                    className=\"mr-3 text-blue-600 focus:ring-blue-500 rounded\"\n                  />\n                  <span className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\n                    自动换行\n                  </span>\n                </label>\n                <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1 ml-6\">\n                  将长行自动换行以适应编辑器宽度\n                </p>\n              </div>\n\n              {/* Line Numbers */}\n              <div>\n                <label className=\"flex items-center\">\n                  <input\n                    type=\"checkbox\"\n                    checked={localSettings.lineNumbers}\n                    onChange={(e) =>\n                      handleSettingChange('lineNumbers', e.target.checked)\n                    }\n                    className=\"mr-3 text-blue-600 focus:ring-blue-500 rounded\"\n                  />\n                  <span className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\n                    行号\n                  </span>\n                </label>\n                <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1 ml-6\">\n                  在编辑器中显示行号\n                </p>\n              </div>\n\n              {/* Minimap */}\n              <div>\n                <label className=\"flex items-center\">\n                  <input\n                    type=\"checkbox\"\n                    checked={localSettings.minimap}\n                    onChange={(e) =>\n                      handleSettingChange('minimap', e.target.checked)\n                    }\n                    className=\"mr-3 text-blue-600 focus:ring-blue-500 rounded\"\n                  />\n                  <span className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\n                    缩略图\n                  </span>\n                </label>\n                <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1 ml-6\">\n                  显示文档的缩略图概览\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div className=\"flex justify-between items-center mt-8 pt-4 border-t border-gray-200 dark:border-gray-600\">\n          <button\n            onClick={handleReset}\n            className=\"px-4 py-2 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors\"\n          >\n            重置为默认值\n          </button>\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors\"\n          >\n            完成\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SettingsPanel;\n","import React, { useRef } from 'react';\nimport type { FileInfo } from '../../types/editor.types';\n\ninterface FileOperationsProps {\n  onOpen: (file: FileInfo) => void;\n  onSave: () => void;\n  onNew: () => void;\n  isDirty: boolean;\n  currentFile: FileInfo | null;\n  theme: 'light' | 'dark';\n  disabled?: boolean;\n}\n\nconst FileOperations: React.FC<FileOperationsProps> = ({\n  onOpen,\n  onSave,\n  onNew,\n  isDirty,\n  currentFile,\n  theme,\n  disabled = false,\n}) => {\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const handleFileSelect = async (\n    event: React.ChangeEvent<HTMLInputElement>\n  ) => {\n    const file = event.target.files?.[0];\n    if (!file) return;\n\n    try {\n      const content = await readFileContent(file);\n      const fileInfo: FileInfo = {\n        name: file.name,\n        size: file.size,\n        lastModified: new Date(file.lastModified),\n        content,\n      };\n      onOpen(fileInfo);\n    } catch (error) {\n      console.error('Error reading file:', error);\n      // TODO: Show error toast\n    }\n\n    // Reset input value to allow selecting the same file again\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  };\n\n  const readFileContent = (file: File): Promise<string> => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = (e) => resolve(e.target?.result as string);\n      reader.onerror = () => reject(new Error('Failed to read file'));\n      reader.readAsText(file);\n    });\n  };\n\n  const handleOpenClick = () => {\n    if (disabled) return;\n    fileInputRef.current?.click();\n  };\n\n  const handleSaveClick = () => {\n    if (disabled) return;\n    onSave();\n  };\n\n  const handleNewClick = () => {\n    if (disabled) return;\n    onNew();\n  };\n\n  const buttonBaseClass = `\n    px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200 flex items-center space-x-2\n    ${\n      theme === 'dark'\n        ? 'text-gray-300 hover:text-white hover:bg-gray-700 border-gray-600'\n        : 'text-gray-700 hover:text-gray-900 hover:bg-gray-50 border-gray-300'\n    }\n    ${disabled ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}\n    border\n  `;\n\n  const primaryButtonClass = `\n    px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200 flex items-center space-x-2\n    ${\n      theme === 'dark'\n        ? 'bg-blue-600 hover:bg-blue-700 text-white'\n        : 'bg-blue-600 hover:bg-blue-700 text-white'\n    }\n    ${disabled ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}\n  `;\n\n  const dangerButtonClass = `\n    px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200 flex items-center space-x-2\n    ${\n      theme === 'dark'\n        ? 'bg-red-600 hover:bg-red-700 text-white'\n        : 'bg-red-600 hover:bg-red-700 text-white'\n    }\n    ${disabled ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}\n  `;\n\n  return (\n    <div className=\"flex items-center space-x-2\">\n      {/* Hidden file input */}\n      <input\n        ref={fileInputRef}\n        type=\"file\"\n        accept=\".json,.txt\"\n        onChange={handleFileSelect}\n        className=\"hidden\"\n        aria-label=\"Select JSON file\"\n      />\n\n      {/* New File Button */}\n      <button\n        onClick={handleNewClick}\n        className={buttonBaseClass}\n        disabled={disabled}\n        title=\"创建新文件 (Ctrl+N)\"\n      >\n        <span>📄</span>\n        <span>新建</span>\n      </button>\n\n      {/* Open File Button */}\n      <button\n        onClick={handleOpenClick}\n        className={buttonBaseClass}\n        disabled={disabled}\n        title=\"打开文件 (Ctrl+O)\"\n      >\n        <span>📁</span>\n        <span>打开</span>\n      </button>\n\n      {/* Save File Button */}\n      <button\n        onClick={handleSaveClick}\n        className={isDirty ? primaryButtonClass : buttonBaseClass}\n        disabled={disabled}\n        title=\"保存文件 (Ctrl+S)\"\n      >\n        <span>💾</span>\n        <span>保存</span>\n        {isDirty && (\n          <span\n            className=\"w-2 h-2 bg-orange-500 rounded-full ml-1\"\n            title=\"未保存的更改\"\n          />\n        )}\n      </button>\n\n      {/* File Info */}\n      {currentFile && (\n        <div\n          className={`\n          px-3 py-2 text-sm rounded-md border\n          ${\n            theme === 'dark'\n              ? 'bg-gray-800 border-gray-600 text-gray-300'\n              : 'bg-gray-50 border-gray-300 text-gray-600'\n          }\n        `}\n        >\n          <div className=\"flex items-center space-x-2\">\n            <span className=\"font-medium\">{currentFile.name}</span>\n            <span className=\"text-xs opacity-75\">\n              ({formatFileSize(currentFile.size)})\n            </span>\n            {isDirty && <span className=\"text-orange-500 text-xs\">●</span>}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst formatFileSize = (bytes: number): string => {\n  if (bytes < 1024) return `${bytes} B`;\n  if (bytes < 1024 * 1024) return `${(bytes / 1024).toFixed(1)} KB`;\n  return `${(bytes / (1024 * 1024)).toFixed(1)} MB`;\n};\n\nexport default FileOperations;\n","import React, { useState, useCallback } from 'react';\nimport type { FileInfo } from '../../types/editor.types';\n\ninterface FileDropZoneProps {\n  onFileDrop: (file: FileInfo) => void;\n  onError: (error: string) => void;\n  theme: 'light' | 'dark';\n  disabled?: boolean;\n  children: React.ReactNode;\n}\n\nconst FileDropZone: React.FC<FileDropZoneProps> = ({\n  onFileDrop,\n  onError,\n  theme,\n  disabled = false,\n  children,\n}) => {\n  const [isDragOver, setIsDragOver] = useState(false);\n  const [dragCounter, setDragCounter] = useState(0);\n\n  const validateFile = (file: File): boolean => {\n    // Check file type\n    const validTypes = ['application/json', 'text/plain'];\n    const validExtensions = ['.json', '.txt'];\n\n    const isValidType =\n      validTypes.includes(file.type) ||\n      validExtensions.some((ext) => file.name.toLowerCase().endsWith(ext));\n\n    if (!isValidType) {\n      onError('Please select a JSON or text file');\n      return false;\n    }\n\n    // Check file size (max 10MB)\n    const maxSize = 10 * 1024 * 1024; // 10MB\n    if (file.size > maxSize) {\n      onError('File size must be less than 10MB');\n      return false;\n    }\n\n    return true;\n  };\n\n  const readFileContent = (file: File): Promise<string> => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = (e) => resolve(e.target?.result as string);\n      reader.onerror = () => reject(new Error('Failed to read file'));\n      reader.readAsText(file);\n    });\n  };\n\n  const handleFile = async (file: File) => {\n    if (!validateFile(file)) return;\n\n    try {\n      const content = await readFileContent(file);\n      const fileInfo: FileInfo = {\n        name: file.name,\n        size: file.size,\n        lastModified: new Date(file.lastModified),\n        content,\n      };\n      onFileDrop(fileInfo);\n    } catch (error) {\n      onError('Failed to read file content');\n    }\n  };\n\n  const handleDragEnter = useCallback(\n    (e: React.DragEvent) => {\n      e.preventDefault();\n      e.stopPropagation();\n\n      if (disabled) return;\n\n      setDragCounter((prev) => prev + 1);\n\n      if (e.dataTransfer.items && e.dataTransfer.items.length > 0) {\n        setIsDragOver(true);\n      }\n    },\n    [disabled]\n  );\n\n  const handleDragLeave = useCallback(\n    (e: React.DragEvent) => {\n      e.preventDefault();\n      e.stopPropagation();\n\n      if (disabled) return;\n\n      setDragCounter((prev) => {\n        const newCounter = prev - 1;\n        if (newCounter === 0) {\n          setIsDragOver(false);\n        }\n        return newCounter;\n      });\n    },\n    [disabled]\n  );\n\n  const handleDragOver = useCallback(\n    (e: React.DragEvent) => {\n      e.preventDefault();\n      e.stopPropagation();\n\n      if (disabled) return;\n\n      // Set the dropEffect to indicate this is a copy operation\n      e.dataTransfer.dropEffect = 'copy';\n    },\n    [disabled]\n  );\n\n  const handleDrop = useCallback(\n    async (e: React.DragEvent) => {\n      e.preventDefault();\n      e.stopPropagation();\n\n      if (disabled) return;\n\n      setIsDragOver(false);\n      setDragCounter(0);\n\n      const files = Array.from(e.dataTransfer.files);\n\n      if (files.length === 0) {\n        onError('No files were dropped');\n        return;\n      }\n\n      if (files.length > 1) {\n        onError('Please drop only one file at a time');\n        return;\n      }\n\n      await handleFile(files[0]);\n    },\n    [disabled, onError]\n  );\n\n  const overlayClass = `\n    absolute inset-0 z-10 flex items-center justify-center\n    ${\n      theme === 'dark'\n        ? 'bg-gray-900/80 border-blue-400'\n        : 'bg-white/80 border-blue-500'\n    }\n    border-2 border-dashed rounded-lg transition-all duration-200\n    ${isDragOver ? 'opacity-100' : 'opacity-0 pointer-events-none'}\n  `;\n\n  const dropMessageClass = `\n    px-6 py-4 rounded-lg text-center\n    ${\n      theme === 'dark'\n        ? 'bg-gray-800 text-gray-200 border-gray-600'\n        : 'bg-white text-gray-700 border-gray-300'\n    }\n    border shadow-lg\n  `;\n\n  return (\n    <div\n      className=\"relative w-full h-full\"\n      onDragEnter={handleDragEnter}\n      onDragLeave={handleDragLeave}\n      onDragOver={handleDragOver}\n      onDrop={handleDrop}\n    >\n      {children}\n\n      {/* Drag overlay */}\n      <div className={overlayClass}>\n        <div className={dropMessageClass}>\n          <div className=\"text-2xl mb-2\">📁</div>\n          <div className=\"text-lg font-medium mb-1\">\n            Drop your JSON file here\n          </div>\n          <div className=\"text-sm opacity-75\">\n            Supports .json and .txt files (max 10MB)\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FileDropZone;\n","import React, { useState, useEffect, useRef } from 'react';\nimport Z_INDEX from '../../constants/zIndex';\n\ninterface SearchPanelProps {\n  isVisible: boolean;\n  onClose: () => void;\n  onSearch: (query: string, options: SearchOptions) => void;\n  onReplace: (\n    searchQuery: string,\n    replaceText: string,\n    options: SearchOptions\n  ) => void;\n  onReplaceAll: (\n    searchQuery: string,\n    replaceText: string,\n    options: SearchOptions\n  ) => void;\n  onFindNext: () => void;\n  onFindPrevious: () => void;\n  searchResults: SearchResult[];\n  currentResultIndex: number;\n  theme: 'light' | 'dark';\n}\n\ninterface SearchOptions {\n  caseSensitive: boolean;\n  useRegex: boolean;\n  wholeWord: boolean;\n}\n\ninterface SearchResult {\n  line: number;\n  column: number;\n  length: number;\n  text: string;\n}\n\n/**\n * 自定义搜索面板，固定在菜单行右侧\n */\nconst SearchPanel: React.FC<SearchPanelProps> = ({\n  isVisible,\n  onSearch,\n  onReplace,\n  onReplaceAll,\n  onFindNext,\n  onFindPrevious,\n  theme,\n}) => {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [replaceText, setReplaceText] = useState('');\n  const [showReplace, setShowReplace] = useState(false);\n  const [options, setOptions] = useState<SearchOptions>({\n    caseSensitive: false,\n    useRegex: false,\n    wholeWord: false,\n  });\n\n  const searchInputRef = useRef<HTMLInputElement>(null);\n\n  // 当面板变为可见时，聚焦搜索输入框\n  useEffect(() => {\n    if (isVisible && searchInputRef.current) {\n      searchInputRef.current.focus();\n    }\n  }, [isVisible]);\n\n  // 处理搜索 - 当输入框内容变化时自动触发搜索\n  useEffect(() => {\n    if (searchQuery.trim()) {\n      onSearch(searchQuery, options);\n    }\n  }, [searchQuery, options, onSearch]);\n\n  // 处理替换\n  const handleReplace = () => {\n    if (searchQuery.trim()) {\n      onReplace(searchQuery, replaceText, options);\n    }\n  };\n\n  // 处理全部替换\n  const handleReplaceAll = () => {\n    if (searchQuery.trim()) {\n      onReplaceAll(searchQuery, replaceText, options);\n    }\n  };\n\n  // 处理按键事件\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter') {\n      if (e.shiftKey) {\n        onFindPrevious();\n      } else {\n        onFindNext();\n      }\n      e.preventDefault();\n    }\n  };\n\n  // 切换选项\n  const toggleOption = (option: keyof SearchOptions) => {\n    setOptions((prev) => ({\n      ...prev,\n      [option]: !prev[option],\n    }));\n  };\n\n  const inputClass = `\n    w-full px-2 py-1 text-xs border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500\n    ${\n      theme === 'dark'\n        ? 'bg-gray-800 text-gray-200 border-gray-600'\n        : 'bg-white text-gray-700 border-gray-300'\n    }\n  `;\n\n  const buttonClass = `\n    px-1.5 py-0.5 text-xs font-medium rounded-md transition-colors\n    ${\n      theme === 'dark'\n        ? 'bg-gray-700 hover:bg-gray-600 text-gray-200 border-gray-600'\n        : 'bg-gray-100 hover:bg-gray-200 text-gray-700 border-gray-300'\n    }\n    border\n  `;\n\n  const optionButtonClass = (active: boolean) => `\n    px-1.5 py-0.5 text-xs font-medium rounded-md transition-colors border\n    ${\n      theme === 'dark'\n        ? active\n          ? 'bg-blue-600 text-white border-blue-700'\n          : 'bg-gray-700 text-gray-300 border-gray-600 hover:bg-gray-600'\n        : active\n          ? 'bg-blue-500 text-white border-blue-600'\n          : 'bg-gray-100 text-gray-700 border-gray-300 hover:bg-gray-200'\n    }\n  `;\n\n  return (\n    <div\n      className={`flex-shrink-0 ${!isVisible ? 'hidden' : ''}`}\n      style={{\n        backgroundColor: theme === 'dark' ? '#1f2937' : 'white',\n        borderLeft: `1px solid ${theme === 'dark' ? '#374151' : '#e5e7eb'}`,\n        color: theme === 'dark' ? '#f3f4f6' : '#111827',\n        padding: '0.25rem 0.5rem',\n        zIndex: Z_INDEX.SEARCH_PANEL,\n        height: '100%',\n        display: 'flex',\n        alignItems: 'center',\n        position: 'absolute',\n        right: 0,\n        top: 0,\n      }}\n    >\n      <div className=\"flex items-center space-x-1\">\n        {/* 搜索输入框 */}\n        <input\n          ref={searchInputRef}\n          type=\"text\"\n          value={searchQuery}\n          onChange={(e) => setSearchQuery(e.target.value)}\n          onKeyDown={handleKeyDown}\n          placeholder=\"搜索...\"\n          className={inputClass}\n          style={{ width: '150px' }}\n        />\n\n        {/* 搜索选项按钮 */}\n        <button\n          className={optionButtonClass(options.caseSensitive)}\n          onClick={() => toggleOption('caseSensitive')}\n          title=\"区分大小写\"\n        >\n          Aa\n        </button>\n        <button\n          className={optionButtonClass(options.wholeWord)}\n          onClick={() => toggleOption('wholeWord')}\n          title=\"全字匹配\"\n        >\n          W\n        </button>\n        <button\n          className={optionButtonClass(options.useRegex)}\n          onClick={() => toggleOption('useRegex')}\n          title=\"使用正则表达式\"\n        >\n          .*\n        </button>\n\n        {/* 导航按钮 */}\n        <button\n          className={buttonClass}\n          onClick={onFindPrevious}\n          title=\"查找上一个 (Shift+Enter)\"\n        >\n          ↑\n        </button>\n        <button\n          className={buttonClass}\n          onClick={onFindNext}\n          title=\"查找下一个 (Enter)\"\n        >\n          ↓\n        </button>\n\n        {/* 替换切换按钮 */}\n        <button\n          className={buttonClass}\n          onClick={() => setShowReplace(!showReplace)}\n          title={showReplace ? '隐藏替换' : '显示替换'}\n        >\n          {showReplace ? '−' : '+'}\n        </button>\n\n        {/* 替换输入框和按钮 */}\n        {showReplace && (\n          <>\n            <input\n              type=\"text\"\n              value={replaceText}\n              onChange={(e) => setReplaceText(e.target.value)}\n              placeholder=\"替换为...\"\n              className={inputClass}\n              style={{ width: '120px' }}\n            />\n            <button\n              className={buttonClass}\n              onClick={handleReplace}\n              title=\"替换\"\n            >\n              替换\n            </button>\n            <button\n              className={buttonClass}\n              onClick={handleReplaceAll}\n              title=\"全部替换\"\n            >\n              全部\n            </button>\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default SearchPanel;\n","import React, { Component, ErrorInfo, ReactNode } from 'react';\n\ninterface Props {\n  children: ReactNode;\n  fallback?: ReactNode;\n  onError?: (error: Error, errorInfo: ErrorInfo) => void;\n}\n\ninterface State {\n  hasError: boolean;\n  error?: Error;\n  errorInfo?: ErrorInfo;\n}\n\nclass ErrorBoundary extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError(error: Error): State {\n    // Update state so the next render will show the fallback UI\n    return { hasError: true, error };\n  }\n\n  componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n    // Log error details\n    console.error('ErrorBoundary caught an error:', error, errorInfo);\n\n    // Update state with error info\n    this.setState({\n      error,\n      errorInfo,\n    });\n\n    // Call optional error handler\n    if (this.props.onError) {\n      this.props.onError(error, errorInfo);\n    }\n\n    // TODO: Send error to logging service\n    // logErrorToService(error, errorInfo);\n  }\n\n  handleRetry = () => {\n    this.setState({ hasError: false, error: undefined, errorInfo: undefined });\n  };\n\n  handleReload = () => {\n    window.location.reload();\n  };\n\n  render() {\n    if (this.state.hasError) {\n      // Custom fallback UI\n      if (this.props.fallback) {\n        return this.props.fallback;\n      }\n\n      // Default error UI\n      return (\n        <div className=\"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900\">\n          <div className=\"max-w-md w-full bg-white dark:bg-gray-800 shadow-lg rounded-lg p-6\">\n            <div className=\"flex items-center mb-4\">\n              <div className=\"flex-shrink-0\">\n                <svg\n                  className=\"h-8 w-8 text-red-500\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                  stroke=\"currentColor\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\"\n                  />\n                </svg>\n              </div>\n              <div className=\"ml-3\">\n                <h3 className=\"text-lg font-medium text-gray-900 dark:text-gray-100\">\n                  Something went wrong\n                </h3>\n              </div>\n            </div>\n\n            <div className=\"mb-4\">\n              <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                The JSON Editor encountered an unexpected error. You can try to\n                recover by clicking the buttons below.\n              </p>\n            </div>\n\n            {/* Error details (only in development) */}\n            {import.meta.env.DEV && this.state.error && (\n              <div className=\"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded\">\n                <h4 className=\"text-sm font-medium text-red-800 dark:text-red-200 mb-2\">\n                  Error Details:\n                </h4>\n                <pre className=\"text-xs text-red-700 dark:text-red-300 whitespace-pre-wrap overflow-auto max-h-32\">\n                  {this.state.error.message}\n                  {this.state.errorInfo?.componentStack && (\n                    <>\n                      {'\\n\\nComponent Stack:'}\n                      {this.state.errorInfo.componentStack}\n                    </>\n                  )}\n                </pre>\n              </div>\n            )}\n\n            <div className=\"flex space-x-3\">\n              <button\n                onClick={this.handleRetry}\n                className=\"flex-1 bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors\"\n              >\n                Try Again\n              </button>\n              <button\n                onClick={this.handleReload}\n                className=\"flex-1 bg-gray-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors\"\n              >\n                Reload Page\n              </button>\n            </div>\n\n            <div className=\"mt-4 text-center\">\n              <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                If the problem persists, please refresh the page or contact\n                support.\n              </p>\n            </div>\n          </div>\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n\nexport default ErrorBoundary;\n","import React, { useEffect, useState } from 'react';\nimport type { ToastData, ToastProps } from '../../types/editor.types';\n\n// Keep backward compatibility\nexport type ToastType = 'success' | 'error' | 'warning' | 'info';\nexport interface ToastMessage extends ToastData {\n  action?: {\n    label: string;\n    onClick: () => void;\n  };\n}\n\ninterface ExtendedToastProps {\n  toast: ToastMessage;\n  onClose: (id: string) => void;\n}\n\nconst Toast: React.FC<ExtendedToastProps> = ({ toast, onClose }) => {\n  const [isVisible, setIsVisible] = useState(false);\n  const [isLeaving, setIsLeaving] = useState(false);\n\n  useEffect(() => {\n    // Trigger entrance animation\n    const timer = setTimeout(() => setIsVisible(true), 10);\n    return () => clearTimeout(timer);\n  }, []);\n\n  useEffect(() => {\n    const duration = toast.duration ?? 5000; // Default 5 seconds\n    if (duration > 0) {\n      const timer = setTimeout(() => {\n        handleClose();\n      }, duration);\n      return () => clearTimeout(timer);\n    }\n  }, [toast.duration]);\n\n  const handleClose = () => {\n    setIsLeaving(true);\n    setTimeout(() => {\n      onClose(toast.id);\n    }, 300); // Match animation duration\n  };\n\n  const getToastStyles = () => {\n    const baseStyles = `\n      relative flex items-start p-4 mb-3 rounded-lg shadow-lg border-l-4 transition-all duration-300 ease-in-out\n      ${isVisible && !isLeaving ? 'translate-x-0 opacity-100' : 'translate-x-full opacity-0'}\n    `;\n\n    switch (toast.type) {\n      case 'success':\n        return `${baseStyles} bg-green-50 dark:bg-green-900/20 border-green-500 text-green-800 dark:text-green-200`;\n      case 'error':\n        return `${baseStyles} bg-red-50 dark:bg-red-900/20 border-red-500 text-red-800 dark:text-red-200`;\n      case 'warning':\n        return `${baseStyles} bg-yellow-50 dark:bg-yellow-900/20 border-yellow-500 text-yellow-800 dark:text-yellow-200`;\n      case 'info':\n        return `${baseStyles} bg-blue-50 dark:bg-blue-900/20 border-blue-500 text-blue-800 dark:text-blue-200`;\n      default:\n        return `${baseStyles} bg-gray-50 dark:bg-gray-800 border-gray-500 text-gray-800 dark:text-gray-200`;\n    }\n  };\n\n  const getIcon = () => {\n    switch (toast.type) {\n      case 'success':\n        return (\n          <svg\n            className=\"w-5 h-5 text-green-500\"\n            fill=\"currentColor\"\n            viewBox=\"0 0 20 20\"\n          >\n            <path\n              fillRule=\"evenodd\"\n              d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\"\n              clipRule=\"evenodd\"\n            />\n          </svg>\n        );\n      case 'error':\n        return (\n          <svg\n            className=\"w-5 h-5 text-red-500\"\n            fill=\"currentColor\"\n            viewBox=\"0 0 20 20\"\n          >\n            <path\n              fillRule=\"evenodd\"\n              d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\"\n              clipRule=\"evenodd\"\n            />\n          </svg>\n        );\n      case 'warning':\n        return (\n          <svg\n            className=\"w-5 h-5 text-yellow-500\"\n            fill=\"currentColor\"\n            viewBox=\"0 0 20 20\"\n          >\n            <path\n              fillRule=\"evenodd\"\n              d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\"\n              clipRule=\"evenodd\"\n            />\n          </svg>\n        );\n      case 'info':\n        return (\n          <svg\n            className=\"w-5 h-5 text-blue-500\"\n            fill=\"currentColor\"\n            viewBox=\"0 0 20 20\"\n          >\n            <path\n              fillRule=\"evenodd\"\n              d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\"\n              clipRule=\"evenodd\"\n            />\n          </svg>\n        );\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <div className={getToastStyles()}>\n      {/* Icon */}\n      <div className=\"flex-shrink-0 mr-3\">{getIcon()}</div>\n\n      {/* Content */}\n      <div className=\"flex-1 min-w-0\">\n        <h4 className=\"text-sm font-medium\">{toast.title}</h4>\n        {toast.message && (\n          <p className=\"mt-1 text-sm opacity-90\">{toast.message}</p>\n        )}\n        {toast.action && (\n          <div className=\"mt-2\">\n            <button\n              onClick={toast.action.onClick}\n              className=\"text-sm font-medium underline hover:no-underline focus:outline-none\"\n            >\n              {toast.action.label}\n            </button>\n          </div>\n        )}\n      </div>\n\n      {/* Close Button */}\n      <button\n        onClick={handleClose}\n        className=\"flex-shrink-0 ml-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 focus:outline-none\"\n      >\n        <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n          <path\n            fillRule=\"evenodd\"\n            d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\"\n            clipRule=\"evenodd\"\n          />\n        </svg>\n      </button>\n    </div>\n  );\n};\n\nexport default Toast;\n","import React from 'react';\nimport Toast, { ToastMessage } from './Toast';\n\ninterface ToastContainerProps {\n  toasts: ToastMessage[];\n  onRemoveToast: (id: string) => void;\n  position?:\n    | 'top-right'\n    | 'top-left'\n    | 'bottom-right'\n    | 'bottom-left'\n    | 'top-center'\n    | 'bottom-center';\n}\n\nconst ToastContainer: React.FC<ToastContainerProps> = ({\n  toasts,\n  onRemoveToast,\n  position = 'top-right',\n}) => {\n  const getPositionStyles = () => {\n    const baseStyles = 'fixed z-50 max-w-sm w-full';\n\n    switch (position) {\n      case 'top-right':\n        return `${baseStyles} top-4 right-4`;\n      case 'top-left':\n        return `${baseStyles} top-4 left-4`;\n      case 'bottom-right':\n        return `${baseStyles} bottom-4 right-4`;\n      case 'bottom-left':\n        return `${baseStyles} bottom-4 left-4`;\n      case 'top-center':\n        return `${baseStyles} top-4 left-1/2 transform -translate-x-1/2`;\n      case 'bottom-center':\n        return `${baseStyles} bottom-4 left-1/2 transform -translate-x-1/2`;\n      default:\n        return `${baseStyles} top-4 right-4`;\n    }\n  };\n\n  if (toasts.length === 0) {\n    return null;\n  }\n\n  return (\n    <div className={getPositionStyles()}>\n      {toasts.map((toast) => (\n        <Toast key={toast.id} toast={toast} onClose={onRemoveToast} />\n      ))}\n    </div>\n  );\n};\n\nexport default ToastContainer;\n","import React, { useEffect, useState, useRef } from 'react';\nimport Z_INDEX from '../../constants/zIndex';\n\ninterface ModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  title: string;\n  children: React.ReactNode;\n  type?: 'success' | 'error' | 'warning' | 'info';\n  actions?: React.ReactNode;\n}\n\nconst Modal: React.FC<ModalProps> = ({\n  isOpen,\n  onClose,\n  title,\n  children,\n  type = 'info',\n  actions,\n}) => {\n  const [isVisible, setIsVisible] = useState(false);\n  const modalRef = useRef<HTMLDivElement>(null);\n\n  // Handle ESC key press to close modal\n  useEffect(() => {\n    const handleEscKey = (event: KeyboardEvent) => {\n      if (event.key === 'Escape' && isOpen) {\n        onClose();\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('keydown', handleEscKey);\n      document.body.style.overflow = 'hidden'; // Prevent background scrolling\n    }\n\n    return () => {\n      document.removeEventListener('keydown', handleEscKey);\n      document.body.style.overflow = ''; // Restore scrolling\n    };\n  }, [isOpen, onClose]);\n\n  // Animation handling\n  useEffect(() => {\n    if (isOpen) {\n      // Ensure DOM is updated before animation\n      requestAnimationFrame(() => {\n        requestAnimationFrame(() => {\n          setIsVisible(true);\n        });\n      });\n    } else {\n      setIsVisible(false);\n    }\n  }, [isOpen]);\n\n  // Focus trap inside modal\n  useEffect(() => {\n    if (isOpen && modalRef.current) {\n      modalRef.current.focus();\n    }\n  }, [isOpen]);\n\n  if (!isOpen) return null;\n\n  const getIconByType = () => {\n    switch (type) {\n      case 'success':\n        return (\n          <div className=\"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-green-100 dark:bg-green-900/30\">\n            <svg\n              className=\"h-6 w-6 text-green-600 dark:text-green-300\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth=\"2\"\n                d=\"M5 13l4 4L19 7\"\n              />\n            </svg>\n          </div>\n        );\n      case 'error':\n        return (\n          <div className=\"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-red-900/30\">\n            <svg\n              className=\"h-6 w-6 text-red-600 dark:text-red-300\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth=\"2\"\n                d=\"M6 18L18 6M6 6l12 12\"\n              />\n            </svg>\n          </div>\n        );\n      case 'warning':\n        return (\n          <div className=\"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-yellow-100 dark:bg-yellow-900/30\">\n            <svg\n              className=\"h-6 w-6 text-yellow-600 dark:text-yellow-300\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth=\"2\"\n                d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n              />\n            </svg>\n          </div>\n        );\n      case 'info':\n      default:\n        return (\n          <div className=\"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 dark:bg-blue-900/30\">\n            <svg\n              className=\"h-6 w-6 text-blue-600 dark:text-blue-300\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth=\"2\"\n                d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n              />\n            </svg>\n          </div>\n        );\n    }\n  };\n\n  return (\n    <div\n      className=\"fixed inset-0 overflow-y-auto\"\n      style={{\n        zIndex: Z_INDEX.MODAL_OVERLAY,\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n      }}\n      aria-labelledby=\"modal-title\"\n      role=\"dialog\"\n      aria-modal=\"true\"\n    >\n      {/* 背景遮罩 */}\n      <div\n        style={{\n          position: 'fixed',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          backgroundColor: 'rgba(0, 0, 0, 0.5)',\n          opacity: isVisible ? 1 : 0,\n          transition: 'opacity 0.2s ease-in-out',\n        }}\n        aria-hidden=\"true\"\n        onClick={onClose}\n      ></div>\n\n      {/* 模态框面板 */}\n      <div\n        ref={modalRef}\n        tabIndex={-1}\n        style={{\n          backgroundColor: 'white',\n          borderRadius: '0.5rem',\n          boxShadow:\n            '0 4px 6px rgba(0, 0, 0, 0.1), 0 1px 3px rgba(0, 0, 0, 0.08)',\n          width: '100%',\n          maxWidth: '500px',\n          margin: '0 1rem',\n          opacity: isVisible ? 1 : 0,\n          transform: isVisible ? 'scale(1)' : 'scale(0.95)',\n          transition: 'opacity 0.2s ease-in-out, transform 0.2s ease-in-out',\n          zIndex: Z_INDEX.MODAL_CONTENT,\n          position: 'relative',\n          overflow: 'hidden',\n        }}\n        onClick={(e) => e.stopPropagation()} // 防止点击事件冒泡到背景层\n      >\n        <div style={{ padding: '1.5rem 1.5rem 1rem' }}>\n          <div style={{ display: 'flex', alignItems: 'flex-start' }}>\n            {getIconByType()}\n            <div style={{ marginLeft: '1rem', width: '100%' }}>\n              <h3\n                style={{\n                  fontSize: '1.125rem',\n                  fontWeight: 600,\n                  marginTop: 0,\n                  marginBottom: '0.5rem',\n                  color: '#111827',\n                }}\n                id=\"modal-title\"\n              >\n                {title}\n              </h3>\n              <div style={{ fontSize: '0.875rem', color: '#4B5563' }}>\n                {children}\n              </div>\n            </div>\n          </div>\n        </div>\n        <div\n          style={{\n            backgroundColor: '#F9FAFB',\n            padding: '0.75rem 1.5rem',\n            display: 'flex',\n            justifyContent: 'flex-end',\n            borderTop: '1px solid #E5E7EB',\n          }}\n        >\n          {actions || (\n            <button\n              type=\"button\"\n              style={{\n                backgroundColor: '#3B82F6',\n                color: 'white',\n                fontWeight: 500,\n                padding: '0.5rem 1rem',\n                borderRadius: '0.375rem',\n                border: 'none',\n                cursor: 'pointer',\n              }}\n              onClick={onClose}\n            >\n              确定\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Modal;\n","import { useState, useRef } from 'react';\nimport './App.css';\nimport JsonEditor from './components/Editor/JsonEditor';\nimport { SettingsPanel } from './components/Settings';\nimport { FileOperations, FileDropZone } from './components/FileManager';\nimport { SearchPanel } from './components/SearchReplace';\nimport { ErrorBoundary, ToastContainer, Modal } from './components/UI';\n// import { ErrorService } from './services/errorService';\nimport useToast from './hooks/useToast';\nimport useModal from './hooks/useModal';\nimport useKeyboardShortcuts from './hooks/useKeyboardShortcuts';\nimport type {\n  EditorSettings,\n  JsonError,\n  FileInfo,\n  EditorMethods,\n} from './types/editor.types';\n\n// 开发环境下加载测试脚本\nif (process.env.NODE_ENV === 'development') {\n  // Use a more direct approach to avoid TypeScript errors with dynamic imports\n  const importModalTest = async () => {\n    try {\n      // @ts-ignore - Ignore TypeScript error for this development-only import\n      await import('./test/modalTest');\n    } catch (error) {\n      console.error('Error loading modalTest:', error);\n    }\n  };\n  importModalTest();\n}\n\nfunction App() {\n  const [content, setContent] = useState(\n    '{\\n  \"example\": \"JSON content\",\\n  \"number\": 42,\\n  \"boolean\": true\\n}'\n  );\n  const [errors, setErrors] = useState<JsonError[]>([]);\n  const [theme, setTheme] = useState<'light' | 'dark'>('light');\n  const [cursorPosition, setCursorPosition] = useState({ line: 1, column: 1 });\n  const [selection, setSelection] = useState({\n    startLine: 1,\n    startColumn: 1,\n    endLine: 1,\n    endColumn: 1,\n  });\n  const [showSettings, setShowSettings] = useState(false);\n  // We still keep this state for the fallback search panel, but it's rarely used now\n  // const [showSearch, setShowSearch] = useState(false);\n  const [currentFile, setCurrentFile] = useState<FileInfo | null>(null);\n  const [isDirty, setIsDirty] = useState(false);\n  const [originalContent, setOriginalContent] = useState(\n    '{\\n  \"example\": \"JSON content\",\\n  \"number\": 42,\\n  \"boolean\": true\\n}'\n  );\n  // 移除自定义搜索状态，使用Monaco内置搜索功能\n\n  const editorRef = useRef<EditorMethods>(null);\n  const { toasts, removeToast } = useToast();\n  const {\n    isOpen,\n    options,\n    closeModal,\n    showError,\n    showSuccess: showModalSuccess,\n    showWarning,\n    showConfirm,\n  } = useModal();\n\n  // 移除useEffect，改为直接在导航函数中处理\n\n  const [settings, setSettings] = useState<EditorSettings>({\n    indentSize: 2,\n    indentType: 'spaces',\n    wordWrap: false,\n    lineNumbers: true,\n    minimap: true,\n  });\n\n  const handleContentChange = (value: string) => {\n    handleContentChangeWithDirty(value);\n  };\n\n  const handleValidationChange = (validationErrors: JsonError[]) => {\n    setErrors(validationErrors);\n  };\n\n  const handleCursorPositionChange = (position: {\n    line: number;\n    column: number;\n  }) => {\n    setCursorPosition(position);\n  };\n\n  const handleSelectionChange = (sel: {\n    startLine: number;\n    startColumn: number;\n    endLine: number;\n    endColumn: number;\n  }) => {\n    setSelection(sel);\n  };\n\n  const toggleTheme = () => {\n    setTheme((prev) => (prev === 'light' ? 'dark' : 'light'));\n  };\n\n  const handleSettingsChange = (newSettings: Partial<EditorSettings>) => {\n    setSettings((prev) => ({ ...prev, ...newSettings }));\n  };\n\n  const toggleSettings = () => {\n    setShowSettings((prev) => !prev);\n  };\n\n  // File operations handlers\n  const handleFileOpen = (file: FileInfo) => {\n    if (isDirty) {\n      showConfirm(\n        '未保存的更改',\n        '您有未保存的更改。是否要放弃这些更改？',\n        () => {\n          setCurrentFile(file);\n          setContent(file.content);\n          setOriginalContent(file.content);\n          setIsDirty(false);\n        }\n      );\n      return;\n    }\n\n    setCurrentFile(file);\n    setContent(file.content);\n    setOriginalContent(file.content);\n    setIsDirty(false);\n  };\n\n  const handleFileSave = () => {\n    const filename = currentFile?.name || 'untitled.json';\n    const blob = new Blob([content], { type: 'application/json' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = filename;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n\n    setOriginalContent(content);\n    setIsDirty(false);\n    showModalSuccess('文件已保存', `成功保存文件 ${filename}`);\n  };\n\n  const handleFileNew = () => {\n    if (isDirty) {\n      showConfirm(\n        '未保存的更改',\n        '您有未保存的更改。是否要放弃这些更改？',\n        () => {\n          const newContent = '{\\n  \\n}';\n          setCurrentFile(null);\n          setContent(newContent);\n          setOriginalContent(newContent);\n          setIsDirty(false);\n        }\n      );\n      return;\n    }\n\n    const newContent = '{\\n  \\n}';\n    setCurrentFile(null);\n    setContent(newContent);\n    setOriginalContent(newContent);\n    setIsDirty(false);\n  };\n\n  const handleFileError = (error: string) => {\n    showError('文件错误', error);\n  };\n\n  // Track content changes for dirty state\n  const handleContentChangeWithDirty = (value: string) => {\n    setContent(value);\n    setIsDirty(value !== originalContent);\n  };\n\n  // Format and minify handlers\n  const handleFormat = () => {\n    try {\n      const parsed = JSON.parse(content);\n      const formatted = JSON.stringify(parsed, null, settings.indentSize);\n      setContent(formatted);\n      setIsDirty(formatted !== originalContent);\n      showModalSuccess('JSON 格式化成功', '您的 JSON 已成功格式化。');\n    } catch (error) {\n      showError('格式化错误', '无法格式化无效的 JSON。请先修复语法错误。');\n    }\n  };\n\n  const handleMinify = () => {\n    try {\n      const parsed = JSON.parse(content);\n      const minified = JSON.stringify(parsed);\n      setContent(minified);\n      setIsDirty(minified !== originalContent);\n      showModalSuccess('JSON 压缩成功', '您的 JSON 已成功压缩。');\n    } catch (error) {\n      showError('压缩错误', '无法压缩无效的 JSON。请先修复语法错误。');\n    }\n  };\n\n  const handleValidate = () => {\n    try {\n      JSON.parse(content);\n      showModalSuccess('JSON 验证通过', '您的 JSON 语法有效！');\n    } catch (error) {\n      showError('JSON 验证失败', `JSON 语法错误: ${(error as Error).message}`);\n    }\n  };\n\n  // 不再需要自定义装饰器处理，使用Monaco内置的搜索高亮\n\n  // Search and replace handlers\n  const toggleSearch = () => {\n    // 使用Monaco编辑器内置的搜索功能\n    if (editorRef.current) {\n      try {\n        // 确保编辑器获得焦点\n        editorRef.current.focus && editorRef.current.focus();\n\n        // 直接调用编辑器的find方法\n        // 确保编辑器已经完全初始化\n        setTimeout(() => {\n          editorRef.current?.find();\n        }, 0);\n\n        return;\n      } catch (error) {\n        console.error('Error triggering search:', error);\n      }\n    }\n\n    // 如果Monaco编辑器不可用，回退到原来的搜索面板\n    // setShowSearch((prev) => !prev);\n  };\n\n  // 添加替换功能触发器\n  const toggleReplace = () => {\n    if (editorRef.current) {\n      try {\n        // 确保编辑器获得焦点\n        editorRef.current.focus && editorRef.current.focus();\n\n        // 直接调用JsonEditor组件中的replace方法\n        // 确保编辑器已经完全初始化\n        setTimeout(() => {\n          editorRef.current?.replace();\n        }, 0);\n      } catch (error) {\n        console.error('Error triggering replace:', error);\n      }\n    }\n  };\n\n  // 使用Monaco编辑器的搜索功能，但通过自定义搜索面板控制\n  const handleSearch = (query: string, options: any) => {\n    if (editorRef.current && query.trim()) {\n      const editor = editorRef.current.getEditor();\n      if (editor) {\n        // 获取Monaco的搜索控制器\n        const findController = editor.getContribution(\n          'editor.contrib.findController'\n        ) as any;\n        if (findController && typeof findController.getState === 'function') {\n          try {\n            // 设置搜索选项\n            const findState = findController.getState();\n            findState.change(\n              {\n                searchString: query,\n                isRegex: options.useRegex,\n                matchCase: options.caseSensitive,\n                wholeWord: options.wholeWord,\n                searchScope: null,\n                matchesPosition: null,\n                matchesCount: null,\n              },\n              false\n            );\n\n            // 执行搜索\n            findController.start({\n              forceRevealReplace: false,\n              seedSearchStringFromSelection: false,\n              seedSearchStringFromGlobalClipboard: false,\n              shouldFocus: 0,\n              shouldAnimate: true,\n              updateSearchScope: false,\n              loop: true,\n            });\n          } catch (e) {\n            console.error('Error in custom search:', e);\n            // 回退到基本搜索方法\n            editor.trigger('keyboard', 'actions.find', {});\n          }\n        } else {\n          // 回退到基本搜索方法\n          editor.trigger('keyboard', 'actions.find', {});\n        }\n      }\n    }\n  };\n\n  // 使用Monaco编辑器的替换功能，但通过自定义搜索面板控制\n  const handleReplace = (\n    searchQuery: string,\n    replaceText: string,\n    options: any\n  ) => {\n    if (editorRef.current && searchQuery.trim()) {\n      const editor = editorRef.current.getEditor();\n      if (editor) {\n        // 获取Monaco的搜索控制器\n        const findController = editor.getContribution(\n          'editor.contrib.findController'\n        ) as any;\n        if (findController && typeof findController.getState === 'function') {\n          try {\n            // 设置搜索和替换选项\n            const findState = findController.getState();\n            findState.change(\n              {\n                searchString: searchQuery,\n                replaceString: replaceText,\n                isRegex: options.useRegex,\n                matchCase: options.caseSensitive,\n                wholeWord: options.wholeWord,\n                searchScope: null,\n                matchesPosition: null,\n                matchesCount: null,\n              },\n              false\n            );\n\n            // 执行替换\n            findController.replace && findController.replace();\n          } catch (e) {\n            console.error('Error in custom replace:', e);\n            // 回退到基本替换方法\n            editor.trigger(\n              'keyboard',\n              'editor.action.startFindReplaceAction',\n              {}\n            );\n          }\n        } else {\n          // 回退到基本替换方法\n          editor.trigger(\n            'keyboard',\n            'editor.action.startFindReplaceAction',\n            {}\n          );\n        }\n      }\n    }\n  };\n\n  const handleReplaceAll = (\n    searchQuery: string,\n    replaceText: string,\n    options: any\n  ) => {\n    if (editorRef.current && searchQuery.trim()) {\n      const editor = editorRef.current.getEditor();\n      if (editor) {\n        // 获取Monaco的搜索控制器\n        const findController = editor.getContribution(\n          'editor.contrib.findController'\n        ) as any;\n        if (findController && typeof findController.getState === 'function') {\n          try {\n            // 设置搜索和替换选项\n            const findState = findController.getState();\n            findState.change(\n              {\n                searchString: searchQuery,\n                replaceString: replaceText,\n                isRegex: options.useRegex,\n                matchCase: options.caseSensitive,\n                wholeWord: options.wholeWord,\n                searchScope: null,\n                matchesPosition: null,\n                matchesCount: null,\n              },\n              false\n            );\n\n            // 执行全部替换\n            findController.replaceAll && findController.replaceAll();\n          } catch (e) {\n            console.error('Error in custom replace all:', e);\n            // 回退到基本替换方法\n            editor.trigger(\n              'keyboard',\n              'editor.action.startFindReplaceAction',\n              {}\n            );\n          }\n        } else {\n          // 回退到基本替换方法\n          editor.trigger(\n            'keyboard',\n            'editor.action.startFindReplaceAction',\n            {}\n          );\n        }\n      }\n    }\n  };\n\n  const handleFindNext = () => {\n    // 使用Monaco编辑器内置的查找下一个功能\n    if (editorRef.current) {\n      const editor = editorRef.current.getEditor();\n      if (editor) {\n        editor.trigger('keyboard', 'editor.action.nextMatchFindAction', {});\n      }\n    }\n  };\n\n  const handleFindPrevious = () => {\n    // 使用Monaco编辑器内置的查找上一个功能\n    if (editorRef.current) {\n      const editor = editorRef.current.getEditor();\n      if (editor) {\n        editor.trigger('keyboard', 'editor.action.previousMatchFindAction', {});\n      }\n    }\n  };\n\n  // Define keyboard shortcuts\n  const shortcuts = [\n    {\n      key: 'n',\n      ctrlKey: true,\n      action: handleFileNew,\n      description: 'Create new file',\n    },\n    {\n      key: 'o',\n      ctrlKey: true,\n      action: () => {\n        // Trigger file input click\n        const fileInput = document.querySelector(\n          'input[type=\"file\"]'\n        ) as HTMLInputElement;\n        fileInput?.click();\n      },\n      description: 'Open file',\n    },\n    {\n      key: 's',\n      ctrlKey: true,\n      action: handleFileSave,\n      description: 'Save file',\n    },\n    {\n      key: 'f',\n      ctrlKey: true,\n      action: toggleSearch,\n      description: 'Find/Search',\n    },\n    {\n      key: 'h',\n      ctrlKey: true,\n      action: toggleReplace,\n      description: 'Find and Replace',\n    },\n    {\n      key: ',',\n      ctrlKey: true,\n      action: toggleSettings,\n      description: 'Open settings',\n    },\n    {\n      key: 'Enter',\n      ctrlKey: true,\n      shiftKey: true,\n      action: handleFormat,\n      description: 'Format JSON',\n    },\n    {\n      key: 'Enter',\n      ctrlKey: true,\n      altKey: true,\n      action: handleMinify,\n      description: 'Minify JSON',\n    },\n    {\n      key: 'Enter',\n      ctrlKey: true,\n      action: handleValidate,\n      description: 'Validate JSON',\n    },\n    {\n      key: 'd',\n      ctrlKey: true,\n      action: toggleTheme,\n      description: 'Toggle dark/light theme',\n    },\n  ];\n\n  // Initialize keyboard shortcuts\n  useKeyboardShortcuts(shortcuts);\n\n  return (\n    <ErrorBoundary>\n      <div className=\"h-screen flex flex-col bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100\">\n        {/* Header */}\n        <header className=\"h-12 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 flex items-center px-4 flex-shrink-0\">\n          <h1 className=\"text-lg font-semibold\">PDX JSON 编辑器</h1>\n          <div className=\"ml-auto flex items-center space-x-2\">\n            <button className=\"btn-secondary text-sm\" onClick={toggleTheme}>\n              {theme === 'light' ? '深色' : '浅色'}\n            </button>\n          </div>\n        </header>\n\n        {/* Toolbar */}\n        <div className=\"h-12 bg-gray-50 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 flex items-center px-4 flex-shrink-0 relative\">\n          <div className=\"flex items-center space-x-2\">\n            <FileOperations\n              onOpen={handleFileOpen}\n              onSave={handleFileSave}\n              onNew={handleFileNew}\n              isDirty={isDirty}\n              currentFile={currentFile}\n              theme={theme}\n            />\n            <div className=\"w-px h-6 bg-gray-300 dark:bg-gray-600\"></div>\n            <button className=\"btn-secondary text-sm\" onClick={handleFormat}>\n              格式化\n            </button>\n            <button className=\"btn-secondary text-sm\" onClick={handleMinify}>\n              压缩\n            </button>\n            <button className=\"btn-secondary text-sm\" onClick={handleValidate}>\n              验证\n            </button>\n            <div className=\"w-px h-6 bg-gray-300 dark:bg-gray-600\"></div>\n            <button className=\"btn-secondary text-sm\" onClick={toggleSettings}>\n              设置\n            </button>\n          </div>\n\n          {/* 固定在工具栏最右侧的搜索面板 */}\n          <div className=\"ml-auto\">\n            <SearchPanel\n              isVisible={true}\n              onClose={() => {}}\n              onSearch={handleSearch}\n              onReplace={handleReplace}\n              onReplaceAll={handleReplaceAll}\n              onFindNext={handleFindNext}\n              onFindPrevious={handleFindPrevious}\n              searchResults={[]}\n              currentResultIndex={0}\n              theme={theme}\n            />\n          </div>\n        </div>\n\n        {/* Main Content */}\n        <main className=\"flex-1 flex overflow-hidden relative\">\n          {/* Editor Area with File Drop Zone */}\n          <div className=\"flex-1 p-4\">\n            <FileDropZone\n              onFileDrop={handleFileOpen}\n              onError={handleFileError}\n              theme={theme}\n            >\n              <div className=\"editor-container h-full\">\n                <JsonEditor\n                  ref={editorRef}\n                  value={content}\n                  onChange={handleContentChange}\n                  onValidationChange={handleValidationChange}\n                  onCursorPositionChange={handleCursorPositionChange}\n                  onSelectionChange={handleSelectionChange}\n                  theme={theme}\n                  settings={settings}\n                />\n              </div>\n            </FileDropZone>\n          </div>\n        </main>\n\n        {/* Status Bar */}\n        <footer className=\"h-6 bg-gray-100 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 flex items-center px-4 text-xs text-gray-600 dark:text-gray-400 flex-shrink-0\">\n          <span>\n            {errors.length === 0 ? (\n              <span className=\"text-green-600 dark:text-green-400\">\n                ✓ JSON 有效\n              </span>\n            ) : (\n              <span className=\"text-red-600 dark:text-red-400\">\n                ✗ {errors.length} 个错误\n              </span>\n            )}\n          </span>\n          <span className=\"ml-4\">\n            行 {cursorPosition.line}, 列 {cursorPosition.column}\n          </span>\n          {selection.startLine !== selection.endLine ||\n          selection.startColumn !== selection.endColumn ? (\n            <span className=\"ml-4\">\n              (已选择 {Math.abs(selection.endLine - selection.startLine) + 1}{' '}\n              行,{' '}\n              {selection.startLine === selection.endLine\n                ? Math.abs(selection.endColumn - selection.startColumn)\n                : '多个'}{' '}\n              字符)\n            </span>\n          ) : null}\n          <span className=\"ml-auto\">字符数: {content.length}</span>\n        </footer>\n\n        {/* Settings Panel */}\n        <SettingsPanel\n          isOpen={showSettings}\n          onClose={() => setShowSettings(false)}\n          settings={settings}\n          onSettingsChange={handleSettingsChange}\n          theme={theme}\n          onThemeChange={setTheme}\n        />\n\n        {/* Toast Notifications */}\n        <ToastContainer\n          toasts={toasts}\n          onRemoveToast={removeToast}\n          position=\"top-right\"\n        />\n\n        {/* Modal Dialog */}\n        <Modal\n          isOpen={isOpen}\n          onClose={closeModal}\n          title={options.title}\n          type={options.type}\n          actions={\n            options.showCancel ? (\n              <>\n                <button\n                  type=\"button\"\n                  className=\"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm\"\n                  onClick={() => {\n                    options.onConfirm?.();\n                    closeModal();\n                  }}\n                >\n                  {options.confirmText || '确定'}\n                </button>\n                <button\n                  type=\"button\"\n                  className=\"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 dark:hover:bg-gray-600\"\n                  onClick={() => {\n                    options.onCancel?.();\n                    closeModal();\n                  }}\n                >\n                  {options.cancelText || '取消'}\n                </button>\n              </>\n            ) : (\n              <button\n                type=\"button\"\n                className=\"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm\"\n                onClick={() => {\n                  options.onConfirm?.();\n                  closeModal();\n                }}\n              >\n                {options.confirmText || '确定'}\n              </button>\n            )\n          }\n        >\n          <p className=\"text-gray-700 dark:text-gray-300\">{options.message}</p>\n        </Modal>\n      </div>\n    </ErrorBoundary>\n  );\n}\n\nexport default App;\n","import { useState, useCallback } from 'react';\nimport type { ToastMessage, ToastType } from '../components/UI';\n\nconst useToast = () => {\n  const [toasts, setToasts] = useState<ToastMessage[]>([]);\n\n  const addToast = useCallback(\n    (\n      type: ToastType,\n      title: string,\n      message?: string,\n      options?: {\n        duration?: number;\n        action?: {\n          label: string;\n          onClick: () => void;\n        };\n      }\n    ) => {\n      const id =\n        Date.now().toString() + Math.random().toString(36).substr(2, 9);\n      const toast: ToastMessage = {\n        id,\n        type,\n        title,\n        message,\n        duration: options?.duration ?? (type === 'error' ? 0 : 5000), // Errors stay until dismissed\n        action: options?.action,\n      };\n\n      setToasts((prev) => [...prev, toast]);\n      return id;\n    },\n    []\n  );\n\n  const removeToast = useCallback((id: string) => {\n    setToasts((prev) => prev.filter((toast) => toast.id !== id));\n  }, []);\n\n  const clearAllToasts = useCallback(() => {\n    setToasts([]);\n  }, []);\n\n  // Convenience methods\n  const showSuccess = useCallback(\n    (title: string, message?: string, options?: { duration?: number }) => {\n      return addToast('success', title, message, options);\n    },\n    [addToast]\n  );\n\n  const showError = useCallback(\n    (\n      title: string,\n      message?: string,\n      options?: { action?: { label: string; onClick: () => void } }\n    ) => {\n      return addToast('error', title, message, { duration: 0, ...options });\n    },\n    [addToast]\n  );\n\n  const showWarning = useCallback(\n    (title: string, message?: string, options?: { duration?: number }) => {\n      return addToast('warning', title, message, options);\n    },\n    [addToast]\n  );\n\n  const showInfo = useCallback(\n    (title: string, message?: string, options?: { duration?: number }) => {\n      return addToast('info', title, message, options);\n    },\n    [addToast]\n  );\n\n  return {\n    toasts,\n    addToast,\n    removeToast,\n    clearAllToasts,\n    showSuccess,\n    showError,\n    showWarning,\n    showInfo,\n  };\n};\n\nexport default useToast;\n","import { useState, useCallback } from 'react';\n\nexport type ModalType = 'success' | 'error' | 'warning' | 'info';\n\nexport interface ModalOptions {\n  title: string;\n  message: string;\n  type?: ModalType;\n  onConfirm?: () => void;\n  onCancel?: () => void;\n  confirmText?: string;\n  cancelText?: string;\n  showCancel?: boolean;\n}\n\nconst useModal = () => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [options, setOptions] = useState<ModalOptions>({\n    title: '',\n    message: '',\n    type: 'info',\n    confirmText: '确定',\n    cancelText: '取消',\n    showCancel: false,\n  });\n\n  const openModal = useCallback((newOptions: ModalOptions) => {\n    setOptions((prevOptions) => ({\n      ...prevOptions,\n      ...newOptions,\n    }));\n    setIsOpen(true);\n  }, []);\n\n  const closeModal = useCallback(() => {\n    setIsOpen(false);\n  }, []);\n\n  const showSuccess = useCallback(\n    (title: string, message: string, onConfirm?: () => void) => {\n      openModal({\n        title,\n        message,\n        type: 'success',\n        onConfirm,\n        showCancel: false,\n      });\n    },\n    [openModal]\n  );\n\n  const showError = useCallback(\n    (title: string, message: string, onConfirm?: () => void) => {\n      openModal({\n        title,\n        message,\n        type: 'error',\n        onConfirm,\n        showCancel: false,\n      });\n    },\n    [openModal]\n  );\n\n  const showWarning = useCallback(\n    (\n      title: string,\n      message: string,\n      onConfirm?: () => void,\n      onCancel?: () => void\n    ) => {\n      openModal({\n        title,\n        message,\n        type: 'warning',\n        onConfirm,\n        onCancel,\n        showCancel: true,\n      });\n    },\n    [openModal]\n  );\n\n  const showConfirm = useCallback(\n    (\n      title: string,\n      message: string,\n      onConfirm?: () => void,\n      onCancel?: () => void\n    ) => {\n      openModal({\n        title,\n        message,\n        type: 'info',\n        onConfirm,\n        onCancel,\n        showCancel: true,\n      });\n    },\n    [openModal]\n  );\n\n  return {\n    isOpen,\n    options,\n    openModal,\n    closeModal,\n    showSuccess,\n    showError,\n    showWarning,\n    showConfirm,\n  };\n};\n\nexport default useModal;\n","import { useEffect, useCallback, useRef } from 'react';\n\ninterface KeyboardShortcut {\n  key: string;\n  ctrlKey?: boolean;\n  shiftKey?: boolean;\n  altKey?: boolean;\n  metaKey?: boolean;\n  action: () => void;\n  description: string;\n  preventDefault?: boolean;\n}\n\ninterface UseKeyboardShortcutsOptions {\n  enabled?: boolean;\n  target?: HTMLElement | Document;\n}\n\nconst useKeyboardShortcuts = (\n  shortcuts: KeyboardShortcut[],\n  options: UseKeyboardShortcutsOptions = {}\n) => {\n  const { enabled = true, target = document } = options;\n  const shortcutsRef = useRef(shortcuts);\n\n  // Update shortcuts ref when shortcuts change\n  useEffect(() => {\n    shortcutsRef.current = shortcuts;\n  }, [shortcuts]);\n\n  const handleKeyDown = useCallback(\n    (event: Event) => {\n      const keyboardEvent = event as KeyboardEvent;\n      if (!enabled) return;\n\n      const matchingShortcut = shortcutsRef.current.find((shortcut) => {\n        const keyMatch =\n          shortcut.key.toLowerCase() === keyboardEvent.key.toLowerCase() ||\n          shortcut.key.toLowerCase() === keyboardEvent.code.toLowerCase();\n\n        const ctrlMatch = (shortcut.ctrlKey ?? false) === keyboardEvent.ctrlKey;\n        const shiftMatch =\n          (shortcut.shiftKey ?? false) === keyboardEvent.shiftKey;\n        const altMatch = (shortcut.altKey ?? false) === keyboardEvent.altKey;\n        const metaMatch = (shortcut.metaKey ?? false) === keyboardEvent.metaKey;\n\n        return keyMatch && ctrlMatch && shiftMatch && altMatch && metaMatch;\n      });\n\n      if (matchingShortcut) {\n        if (matchingShortcut.preventDefault !== false) {\n          event.preventDefault();\n          event.stopPropagation();\n        }\n        matchingShortcut.action();\n      }\n    },\n    [enabled]\n  );\n\n  useEffect(() => {\n    if (!enabled) return;\n\n    const targetElement = target as EventTarget;\n    targetElement.addEventListener('keydown', handleKeyDown);\n\n    return () => {\n      targetElement.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [handleKeyDown, enabled, target]);\n\n  const getShortcutsList = useCallback(() => {\n    return shortcuts.map((shortcut) => ({\n      keys: [\n        shortcut.ctrlKey && 'Ctrl',\n        shortcut.metaKey && 'Cmd',\n        shortcut.shiftKey && 'Shift',\n        shortcut.altKey && 'Alt',\n        shortcut.key,\n      ]\n        .filter(Boolean)\n        .join(' + '),\n      description: shortcut.description,\n    }));\n  }, [shortcuts]);\n\n  return {\n    getShortcutsList,\n  };\n};\n\nexport default useKeyboardShortcuts;\n"],"names":["JsonEditor","forwardRef","value","onChange","onValidationChange","onCursorPositionChange","onSelectionChange","theme","settings","ref","editorRef","useRef","monacoRef","formatDocument","useCallback","current","trigger","undo","redo","selectAll","find","focus","editor","monaco","e","actions","findAction1","getAction","findAction2","push","findAction","a","id","toLowerCase","includes","run","KeyMod","CtrlCmd","KeyCode","KeyF","window","error","replace","replaceAction1","replaceAction2","replaceAction","KeyH","gotoLine","line","column","revealLineInCenter","setPosition","lineNumber","getSelection","getSelectedText","selection","model","getModel","getValueInRange","insertText","text","range","Range","executeEdits","forceMoveMarkers","canUndo","canRedo","useImperativeHandle","getEditor","getMonaco","useEffect","updateOptions","tabSize","indentSize","insertSpaces","indentType","wordWrap","lineNumbers","minimap","enabled","editorOptions","language","automaticLayout","fontSize","fontFamily","scrollBeyondLastLine","renderWhitespace","bracketPairColorization","matchBrackets","showFoldingControls","foldingStrategy","foldingHighlight","autoClosingBrackets","autoClosingQuotes","autoClosingDelete","autoClosingOvertype","autoSurround","autoIndent","formatOnPaste","formatOnType","suggest","showKeywords","showSnippets","showFunctions","showConstructors","showFields","showVariables","showClasses","showStructs","showInterfaces","showModules","showProperties","showEvents","showOperators","showUnits","showValues","showConstants","showEnums","showEnumMembers","showColors","showFiles","showReferences","showFolders","showTypeParameters","showIssues","showUsers","insertMode","filterGraceful","snippetsPreventQuickSuggestions","quickSuggestions","other","comments","strings","multiCursorModifier","multiCursorMergeOverlapping","multiCursorPaste","addExtraSpaceOnTop","autoFindInSelection","seedSearchStringFromSelection","loop","renderValidationDecorations","renderLineHighlight","renderLineHighlightOnlyWhenFocus","undoStopOnWordBoundary","largeFileOptimizations","accessibilitySupport","ariaLabel","cursorBlinking","cursorSmoothCaretAnimation","cursorStyle","cursorWidth","smoothScrolling","mouseWheelScrollSensitivity","fastScrollSensitivity","jsx","className","children","Editor","onMount","languages","json","jsonDefaults","setDiagnosticsOptions","validate","allowComments","schemas","enableSchemaRequest","schemaValidation","schemaRequest","setLanguageConfiguration","brackets","autoClosingPairs","open","close","notIn","surroundingPairs","findController","getContribution","getState","onDidBlurEditorWidget","setTimeout","state","isRevealed","addCommand","markersDisposable","onDidChangeMarkers","uris","editorUri","uri","toString","errors","getModelMarkers","resource","map","marker","startLineNumber","startColumn","message","severity","MarkerSeverity","Error","cursorDisposable","onDidChangeCursorPosition","position","selectionDisposable","onDidChangeCursorSelection","startLine","endLine","endLineNumber","endColumn","contentDisposable","onDidChangeContent","KeyD","Shift","KeyK","Slash","dispose","options","loading","ThemeSelector","onThemeChange","disabled","buttonClass","switchClass","jsxs","title","type","onClick","role","Z_INDEX","SettingsPanel","isOpen","onClose","onSettingsChange","localSettings","setLocalSettings","useState","modalRef","handleSettingChange","key","newSettings","handleEscKey","event","document","addEventListener","body","style","overflow","removeEventListener","top","left","right","bottom","backgroundColor","display","alignItems","justifyContent","zIndex","tabIndex","borderRadius","padding","boxShadow","maxHeight","overflowY","width","maxWidth","Number","target","name","checked","defaultSettings","FileOperations","onOpen","onSave","onNew","isDirty","currentFile","fileInputRef","readFileContent","file","Promise","resolve","reject","reader","FileReader","onload","result","onerror","readAsText","buttonBaseClass","primaryButtonClass","accept","async","files","content","fileInfo","size","lastModified","Date","click","formatFileSize","bytes","toFixed","FileDropZone","onFileDrop","onError","isDragOver","setIsDragOver","dragCounter","setDragCounter","handleFile","some","ext","endsWith","validateFile","handleDragEnter","preventDefault","stopPropagation","prev","dataTransfer","items","length","handleDragLeave","newCounter","handleDragOver","dropEffect","handleDrop","Array","from","overlayClass","dropMessageClass","onDragEnter","onDragLeave","onDragOver","onDrop","SearchPanel","isVisible","onSearch","onReplace","onReplaceAll","onFindNext","onFindPrevious","searchQuery","setSearchQuery","replaceText","setReplaceText","showReplace","setShowReplace","setOptions","caseSensitive","useRegex","wholeWord","searchInputRef","trim","toggleOption","option","inputClass","optionButtonClass","active","borderLeft","color","height","onKeyDown","shiftKey","placeholder","Fragment","ErrorBoundary","Component","constructor","props","super","this","hasError","getDerivedStateFromError","componentDidCatch","errorInfo","setState","handleRetry","handleReload","location","reload","render","fallback","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","Toast","toast","setIsVisible","isLeaving","setIsLeaving","timer","clearTimeout","duration","handleClose","baseStyles","getToastStyles","fillRule","clipRule","getIcon","action","label","ToastContainer","toasts","onRemoveToast","getPositionStyles","Modal","requestAnimationFrame","opacity","transition","margin","transform","getIconByType","marginLeft","fontWeight","marginTop","marginBottom","borderTop","border","cursor","App","setContent","setErrors","setTheme","cursorPosition","setCursorPosition","setSelection","showSettings","setShowSettings","setCurrentFile","setIsDirty","originalContent","setOriginalContent","removeToast","setToasts","addToast","now","Math","random","substr","filter","clearAllToasts","showSuccess","showError","showWarning","showInfo","useToast","closeModal","showModalSuccess","showConfirm","setIsOpen","confirmText","cancelText","showCancel","openModal","newOptions","prevOptions","onConfirm","onCancel","useModal","setSettings","toggleTheme","toggleSettings","handleFileOpen","handleFileSave","filename","blob","Blob","url","URL","createObjectURL","createElement","href","download","appendChild","removeChild","revokeObjectURL","handleFileNew","newContent","handleContentChangeWithDirty","handleFormat","parsed","JSON","parse","formatted","stringify","handleMinify","minified","handleValidate","shortcuts","shortcutsRef","handleKeyDown","keyboardEvent","matchingShortcut","shortcut","keyMatch","code","ctrlMatch","ctrlKey","shiftMatch","altMatch","altKey","metaMatch","metaKey","targetElement","keys","Boolean","join","description","useKeyboardShortcuts","fileInput","querySelector","query","change","searchString","isRegex","matchCase","searchScope","matchesPosition","matchesCount","start","forceRevealReplace","seedSearchStringFromGlobalClipboard","shouldFocus","shouldAnimate","updateSearchScope","replaceString","replaceAll","searchResults","currentResultIndex","validationErrors","sel","abs"],"mappings":"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"}