{"version":3,"file":"App.DwJcdR3s.js","sources":["../../src/components/Editor/JsonEditor.tsx","../../src/components/Settings/ThemeSelector.tsx","../../src/components/Settings/SettingsPanel.tsx","../../src/components/FileManager/FileOperations.tsx","../../src/components/FileManager/FileDropZone.tsx","../../src/components/SearchReplace/SearchPanel.tsx","../../src/components/UI/ErrorBoundary.tsx","../../src/components/UI/Toast.tsx","../../src/components/UI/ToastContainer.tsx","../../src/App.tsx","../../src/hooks/useToast.ts","../../src/hooks/useKeyboardShortcuts.ts"],"sourcesContent":["import { useRef, useEffect, useImperativeHandle, forwardRef, useCallback } from 'react';\nimport Editor, { type OnMount, type OnChange } from '@monaco-editor/react';\nimport type { MonacoEditorProps, EditorMethods } from '../../types/editor.types';\n\nconst JsonEditor = forwardRef<EditorMethods, MonacoEditorProps>(({\n  value,\n  onChange,\n  onValidationChange,\n  onCursorPositionChange,\n  onSelectionChange,\n  theme,\n  settings\n}, ref) => {\n  const editorRef = useRef<any>(null);\n  const monacoRef = useRef<any>(null);\n\n  // Editor methods that can be called from parent components\n  const formatDocument = useCallback(() => {\n    if (editorRef.current) {\n      editorRef.current.trigger('editor', 'editor.action.formatDocument', {});\n    }\n  }, []);\n\n  const undo = useCallback(() => {\n    if (editorRef.current) {\n      editorRef.current.trigger('editor', 'undo', {});\n    }\n  }, []);\n\n  const redo = useCallback(() => {\n    if (editorRef.current) {\n      editorRef.current.trigger('editor', 'redo', {});\n    }\n  }, []);\n\n  const selectAll = useCallback(() => {\n    if (editorRef.current) {\n      editorRef.current.trigger('editor', 'editor.action.selectAll', {});\n    }\n  }, []);\n\n  const find = useCallback(() => {\n    if (editorRef.current) {\n      editorRef.current.trigger('editor', 'actions.find', {});\n    }\n  }, []);\n\n  const replace = useCallback(() => {\n    if (editorRef.current) {\n      editorRef.current.trigger('editor', 'editor.action.startFindReplaceAction', {});\n    }\n  }, []);\n\n  const gotoLine = useCallback((line: number, column?: number) => {\n    if (editorRef.current) {\n      editorRef.current.revealLineInCenter(line);\n      editorRef.current.setPosition({ lineNumber: line, column: column || 1 });\n      editorRef.current.focus();\n    }\n  }, []);\n\n  const getSelection = useCallback(() => {\n    if (editorRef.current) {\n      return editorRef.current.getSelection();\n    }\n    return null;\n  }, []);\n\n  const getSelectedText = useCallback(() => {\n    if (editorRef.current) {\n      const selection = editorRef.current.getSelection();\n      const model = editorRef.current.getModel();\n      if (selection && model) {\n        return model.getValueInRange(selection);\n      }\n    }\n    return '';\n  }, []);\n\n  const insertText = useCallback((text: string) => {\n    if (editorRef.current) {\n      const selection = editorRef.current.getSelection();\n      const range = selection || new monacoRef.current.Range(1, 1, 1, 1);\n      editorRef.current.executeEdits('insert-text', [{\n        range,\n        text,\n        forceMoveMarkers: true\n      }]);\n    }\n  }, []);\n\n  const canUndo = useCallback(() => {\n    if (editorRef.current) {\n      const model = editorRef.current.getModel();\n      return model ? model.canUndo() : false;\n    }\n    return false;\n  }, []);\n\n  const canRedo = useCallback(() => {\n    if (editorRef.current) {\n      const model = editorRef.current.getModel();\n      return model ? model.canRedo() : false;\n    }\n    return false;\n  }, []);\n\n  // Expose methods to parent components\n  useImperativeHandle(ref, () => ({\n    formatDocument,\n    undo,\n    redo,\n    selectAll,\n    find,\n    replace,\n    gotoLine,\n    getSelection,\n    getSelectedText,\n    insertText,\n    canUndo,\n    canRedo,\n    focus: () => editorRef.current?.focus(),\n    getEditor: () => editorRef.current,\n    getMonaco: () => monacoRef.current\n  }), [formatDocument, undo, redo, selectAll, find, replace, gotoLine, getSelection, getSelectedText, insertText, canUndo, canRedo]);\n\n  const handleEditorDidMount: OnMount = (editor, monaco) => {\n    editorRef.current = editor;\n    monacoRef.current = monaco;\n    \n    // Configure JSON language settings with enhanced validation\n    monaco.languages.json.jsonDefaults.setDiagnosticsOptions({\n      validate: true,\n      allowComments: false,\n      schemas: [],\n      enableSchemaRequest: false,\n      schemaValidation: 'error',\n      schemaRequest: 'error'\n    });\n\n    // Enhanced bracket matching configuration\n    monaco.languages.setLanguageConfiguration('json', {\n      brackets: [\n        ['{', '}'],\n        ['[', ']'],\n        ['\"', '\"']\n      ],\n      autoClosingPairs: [\n        { open: '{', close: '}' },\n        { open: '[', close: ']' },\n        { open: '\"', close: '\"', notIn: ['string'] }\n      ],\n      surroundingPairs: [\n        { open: '{', close: '}' },\n        { open: '[', close: ']' },\n        { open: '\"', close: '\"' }\n      ]\n    });\n\n    const model = editor.getModel();\n    if (model) {\n      // Set up validation change listener with enhanced error reporting\n      const markersDisposable = monaco.editor.onDidChangeMarkers((uris) => {\n        const editorUri = model.uri;\n        if (uris.find(uri => uri.toString() === editorUri.toString())) {\n          const markers = monaco.editor.getModelMarkers({ resource: editorUri });\n          const errors = markers.map(marker => ({\n            line: marker.startLineNumber,\n            column: marker.startColumn,\n            message: marker.message,\n            severity: marker.severity === monaco.MarkerSeverity.Error ? 'error' as const : 'warning' as const\n          }));\n          onValidationChange(errors);\n        }\n      });\n\n      // Set up cursor position change listener\n      const cursorDisposable = editor.onDidChangeCursorPosition((e) => {\n        if (onCursorPositionChange) {\n          onCursorPositionChange({\n            line: e.position.lineNumber,\n            column: e.position.column\n          });\n        }\n      });\n\n      // Set up selection change listener\n      const selectionDisposable = editor.onDidChangeCursorSelection((e) => {\n        if (onSelectionChange) {\n          onSelectionChange({\n            startLine: e.selection.startLineNumber,\n            startColumn: e.selection.startColumn,\n            endLine: e.selection.endLineNumber,\n            endColumn: e.selection.endColumn\n          });\n        }\n      });\n\n      // Set up content change listener for undo/redo state\n      const contentDisposable = model.onDidChangeContent(() => {\n        // This will trigger validation automatically\n        // Additional logic can be added here for undo/redo state tracking\n      });\n\n      // Enhanced keyboard shortcuts\n      editor.addCommand(monaco.KeyMod.CtrlCmd | monaco.KeyCode.KeyD, () => {\n        // Duplicate line\n        editor.trigger('keyboard', 'editor.action.copyLinesDownAction', {});\n      });\n\n      editor.addCommand(monaco.KeyMod.CtrlCmd | monaco.KeyMod.Shift | monaco.KeyCode.KeyK, () => {\n        // Delete line\n        editor.trigger('keyboard', 'editor.action.deleteLines', {});\n      });\n\n      editor.addCommand(monaco.KeyMod.CtrlCmd | monaco.KeyCode.Slash, () => {\n        // Toggle line comment (though JSON doesn't support comments, this is for future extensibility)\n        editor.trigger('keyboard', 'editor.action.commentLine', {});\n      });\n\n      // Clean up on unmount\n      return () => {\n        markersDisposable.dispose();\n        cursorDisposable.dispose();\n        selectionDisposable.dispose();\n        contentDisposable.dispose();\n      };\n    }\n  };\n\n  const handleEditorChange: OnChange = (value) => {\n    if (value !== undefined) {\n      onChange(value);\n    }\n  };\n\n  // Update editor options when settings change\n  useEffect(() => {\n    if (editorRef.current) {\n      editorRef.current.updateOptions({\n        tabSize: settings.indentSize,\n        insertSpaces: settings.indentType === 'spaces',\n        wordWrap: settings.wordWrap ? 'on' : 'off',\n        lineNumbers: settings.lineNumbers ? 'on' : 'off',\n        minimap: { enabled: settings.minimap }\n      });\n    }\n  }, [settings]);\n\n  const editorOptions: any = {\n    language: 'json',\n    theme: theme === 'dark' ? 'vs-dark' : 'vs',\n    automaticLayout: true,\n    fontSize: 14,\n    fontFamily: 'Monaco, Menlo, \"Ubuntu Mono\", monospace',\n    tabSize: settings.indentSize,\n    insertSpaces: settings.indentType === 'spaces',\n    wordWrap: settings.wordWrap ? 'on' : 'off',\n    lineNumbers: settings.lineNumbers ? 'on' : 'off',\n    minimap: { enabled: settings.minimap },\n    scrollBeyondLastLine: false,\n    renderWhitespace: 'selection',\n    \n    // Enhanced bracket and matching features\n    bracketPairColorization: { enabled: true },\n    matchBrackets: 'always',\n    showFoldingControls: 'always',\n    foldingStrategy: 'indentation',\n    foldingHighlight: true,\n    \n    // Enhanced auto-completion and suggestions\n    autoClosingBrackets: 'always',\n    autoClosingQuotes: 'always',\n    autoClosingDelete: 'always',\n    autoClosingOvertype: 'always',\n    autoSurround: 'languageDefined',\n    autoIndent: 'full',\n    formatOnPaste: true,\n    formatOnType: true,\n    \n    // Enhanced IntelliSense\n    suggest: {\n      showKeywords: true,\n      showSnippets: true,\n      showFunctions: true,\n      showConstructors: true,\n      showFields: true,\n      showVariables: true,\n      showClasses: true,\n      showStructs: true,\n      showInterfaces: true,\n      showModules: true,\n      showProperties: true,\n      showEvents: true,\n      showOperators: true,\n      showUnits: true,\n      showValues: true,\n      showConstants: true,\n      showEnums: true,\n      showEnumMembers: true,\n      showColors: true,\n      showFiles: true,\n      showReferences: true,\n      showFolders: true,\n      showTypeParameters: true,\n      showIssues: true,\n      showUsers: true,\n      insertMode: 'insert',\n      filterGraceful: true,\n      snippetsPreventQuickSuggestions: false\n    },\n    \n    quickSuggestions: {\n      other: true,\n      comments: false,\n      strings: true\n    },\n    \n    // Enhanced editing features\n    multiCursorModifier: 'ctrlCmd',\n    multiCursorMergeOverlapping: true,\n    multiCursorPaste: 'spread',\n    \n    // Find and replace enhancements\n    find: {\n      addExtraSpaceOnTop: true,\n      autoFindInSelection: 'never',\n      seedSearchStringFromSelection: 'always'\n    },\n    \n    // Enhanced error and warning display\n    renderValidationDecorations: 'on',\n    renderLineHighlight: 'all',\n    renderLineHighlightOnlyWhenFocus: false,\n    \n    // Undo/Redo enhancements\n    undoStopOnWordBoundary: true,\n    \n    // Performance optimizations\n    largeFileOptimizations: true,\n    \n    // Accessibility features\n    accessibilitySupport: 'auto',\n    ariaLabel: 'JSON Editor',\n    \n    // Selection and cursor enhancements\n    cursorBlinking: 'blink',\n    cursorSmoothCaretAnimation: 'on',\n    cursorStyle: 'line',\n    cursorWidth: 2,\n    \n    // Scrolling enhancements\n    smoothScrolling: true,\n    mouseWheelScrollSensitivity: 1,\n    fastScrollSensitivity: 5\n  };\n\n  return (\n    <div className=\"w-full h-full\">\n      <Editor\n        value={value}\n        onChange={handleEditorChange}\n        onMount={handleEditorDidMount}\n        options={editorOptions}\n        loading={\n          <div className=\"flex items-center justify-center h-full\">\n            <div className=\"text-gray-500\">Loading editor...</div>\n          </div>\n        }\n      />\n    </div>\n  );\n});\n\nexport default JsonEditor;\n","import React from 'react';\n\ninterface ThemeSelectorProps {\n  theme: 'light' | 'dark';\n  onThemeChange: (theme: 'light' | 'dark') => void;\n  disabled?: boolean;\n}\n\nconst ThemeSelector: React.FC<ThemeSelectorProps> = ({\n  theme,\n  onThemeChange,\n  disabled = false\n}) => {\n  const handleToggle = () => {\n    if (disabled) return;\n    onThemeChange(theme === 'light' ? 'dark' : 'light');\n  };\n\n  const buttonClass = `\n    relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 ease-in-out\n    ${disabled ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}\n    ${theme === 'dark' \n      ? 'bg-blue-600' \n      : 'bg-gray-200'\n    }\n    focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\n  `;\n\n  const switchClass = `\n    inline-block h-4 w-4 transform rounded-full bg-white transition duration-200 ease-in-out\n    ${theme === 'dark' ? 'translate-x-6' : 'translate-x-1'}\n  `;\n\n  return (\n    <div className=\"flex items-center space-x-3\">\n      {/* Light theme icon */}\n      <span \n        className={`text-sm ${theme === 'light' ? 'text-yellow-500' : 'text-gray-400'}`}\n        title=\"Light theme\"\n      >\n        ‚òÄÔ∏è\n      </span>\n\n      {/* Toggle switch */}\n      <button\n        type=\"button\"\n        className={buttonClass}\n        onClick={handleToggle}\n        disabled={disabled}\n        role=\"switch\"\n        aria-checked={theme === 'dark'}\n        aria-label={`Switch to ${theme === 'light' ? 'dark' : 'light'} theme`}\n      >\n        <span className={switchClass} />\n      </button>\n\n      {/* Dark theme icon */}\n      <span \n        className={`text-sm ${theme === 'dark' ? 'text-blue-400' : 'text-gray-400'}`}\n        title=\"Dark theme\"\n      >\n        üåô\n      </span>\n\n      {/* Theme label */}\n      <span className={`text-sm font-medium ${\n        theme === 'dark' ? 'text-gray-200' : 'text-gray-700'\n      }`}>\n        {theme === 'light' ? 'Light' : 'Dark'}\n      </span>\n    </div>\n  );\n};\n\nexport default ThemeSelector;","import React, { useState, useEffect } from 'react';\nimport type { EditorSettings } from '../../types/editor.types';\nimport { ThemeSelector } from './index';\n\ninterface SettingsPanelProps {\n  isOpen: boolean;\n  onClose: () => void;\n  settings: EditorSettings;\n  onSettingsChange: (settings: Partial<EditorSettings>) => void;\n  theme: 'light' | 'dark';\n  onThemeChange: (theme: 'light' | 'dark') => void;\n}\n\nconst SettingsPanel: React.FC<SettingsPanelProps> = ({\n  isOpen,\n  onClose,\n  settings,\n  onSettingsChange,\n  theme,\n  onThemeChange,\n}) => {\n  const [localSettings, setLocalSettings] = useState<EditorSettings>(settings);\n\n  // Update local settings when props change\n  useEffect(() => {\n    setLocalSettings(settings);\n  }, [settings]);\n\n  // Handle settings changes\n  const handleSettingChange = <K extends keyof EditorSettings>(\n    key: K,\n    value: EditorSettings[K]\n  ) => {\n    const newSettings = { ...localSettings, [key]: value };\n    setLocalSettings(newSettings);\n    onSettingsChange({ [key]: value });\n  };\n\n  // Reset settings to defaults\n  const handleReset = () => {\n    const defaultSettings: EditorSettings = {\n      indentSize: 2,\n      indentType: 'spaces',\n      wordWrap: false,\n      lineNumbers: true,\n      minimap: true,\n    };\n    setLocalSettings(defaultSettings);\n    onSettingsChange(defaultSettings);\n  };\n\n  // Handle backdrop click\n  const handleBackdropClick = (e: React.MouseEvent) => {\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div \n      className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\"\n      onClick={handleBackdropClick}\n    >\n      <div className=\"bg-white dark:bg-gray-800 p-6 rounded-lg w-96 max-h-[80vh] overflow-y-auto shadow-xl\">\n        {/* Header */}\n        <div className=\"flex justify-between items-center mb-6\">\n          <h2 className=\"text-xl font-semibold text-gray-900 dark:text-gray-100\">\n            Editor Settings\n          </h2>\n          <button\n            onClick={onClose}\n            className=\"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-xl font-bold w-8 h-8 flex items-center justify-center rounded hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\"\n            aria-label=\"Close settings\"\n          >\n            ‚úï\n          </button>\n        </div>\n\n        <div className=\"space-y-6\">\n          {/* Theme Settings */}\n          <div>\n            <h3 className=\"text-sm font-medium text-gray-900 dark:text-gray-100 mb-3\">\n              Appearance\n            </h3>\n            <div className=\"pl-4\">\n              <ThemeSelector\n                theme={theme}\n                onThemeChange={onThemeChange}\n              />\n            </div>\n          </div>\n\n          {/* Editor Settings */}\n          <div>\n            <h3 className=\"text-sm font-medium text-gray-900 dark:text-gray-100 mb-3\">\n              Editor\n            </h3>\n            <div className=\"space-y-4 pl-4\">\n              {/* Indent Size */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  Indent Size\n                </label>\n                <select\n                  value={localSettings.indentSize}\n                  onChange={(e) => handleSettingChange('indentSize', Number(e.target.value) as 2 | 4)}\n                  className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                >\n                  <option value={2}>2 spaces</option>\n                  <option value={4}>4 spaces</option>\n                </select>\n              </div>\n\n              {/* Indent Type */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  Indent Type\n                </label>\n                <div className=\"flex space-x-4\">\n                  <label className=\"flex items-center\">\n                    <input\n                      type=\"radio\"\n                      name=\"indentType\"\n                      value=\"spaces\"\n                      checked={localSettings.indentType === 'spaces'}\n                      onChange={(e) => handleSettingChange('indentType', e.target.value as 'spaces' | 'tabs')}\n                      className=\"mr-2 text-blue-600 focus:ring-blue-500\"\n                    />\n                    <span className=\"text-sm text-gray-700 dark:text-gray-300\">Spaces</span>\n                  </label>\n                  <label className=\"flex items-center\">\n                    <input\n                      type=\"radio\"\n                      name=\"indentType\"\n                      value=\"tabs\"\n                      checked={localSettings.indentType === 'tabs'}\n                      onChange={(e) => handleSettingChange('indentType', e.target.value as 'spaces' | 'tabs')}\n                      className=\"mr-2 text-blue-600 focus:ring-blue-500\"\n                    />\n                    <span className=\"text-sm text-gray-700 dark:text-gray-300\">Tabs</span>\n                  </label>\n                </div>\n              </div>\n\n              {/* Word Wrap */}\n              <div>\n                <label className=\"flex items-center\">\n                  <input\n                    type=\"checkbox\"\n                    checked={localSettings.wordWrap}\n                    onChange={(e) => handleSettingChange('wordWrap', e.target.checked)}\n                    className=\"mr-3 text-blue-600 focus:ring-blue-500 rounded\"\n                  />\n                  <span className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\n                    Word Wrap\n                  </span>\n                </label>\n                <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1 ml-6\">\n                  Wrap long lines to fit in the editor\n                </p>\n              </div>\n\n              {/* Line Numbers */}\n              <div>\n                <label className=\"flex items-center\">\n                  <input\n                    type=\"checkbox\"\n                    checked={localSettings.lineNumbers}\n                    onChange={(e) => handleSettingChange('lineNumbers', e.target.checked)}\n                    className=\"mr-3 text-blue-600 focus:ring-blue-500 rounded\"\n                  />\n                  <span className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\n                    Line Numbers\n                  </span>\n                </label>\n                <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1 ml-6\">\n                  Show line numbers in the editor\n                </p>\n              </div>\n\n              {/* Minimap */}\n              <div>\n                <label className=\"flex items-center\">\n                  <input\n                    type=\"checkbox\"\n                    checked={localSettings.minimap}\n                    onChange={(e) => handleSettingChange('minimap', e.target.checked)}\n                    className=\"mr-3 text-blue-600 focus:ring-blue-500 rounded\"\n                  />\n                  <span className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\n                    Minimap\n                  </span>\n                </label>\n                <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1 ml-6\">\n                  Show minimap overview of the document\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div className=\"flex justify-between items-center mt-8 pt-4 border-t border-gray-200 dark:border-gray-600\">\n          <button\n            onClick={handleReset}\n            className=\"px-4 py-2 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors\"\n          >\n            Reset to Defaults\n          </button>\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors\"\n          >\n            Done\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SettingsPanel;\n","import React, { useRef } from 'react';\nimport type { FileInfo } from '../../types/editor.types';\n\ninterface FileOperationsProps {\n  onOpen: (file: FileInfo) => void;\n  onSave: () => void;\n  onNew: () => void;\n  isDirty: boolean;\n  currentFile: FileInfo | null;\n  theme: 'light' | 'dark';\n  disabled?: boolean;\n}\n\nconst FileOperations: React.FC<FileOperationsProps> = ({\n  onOpen,\n  onSave,\n  onNew,\n  isDirty,\n  currentFile,\n  theme,\n  disabled = false\n}) => {\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const handleFileSelect = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (!file) return;\n\n    try {\n      const content = await readFileContent(file);\n      const fileInfo: FileInfo = {\n        name: file.name,\n        size: file.size,\n        lastModified: new Date(file.lastModified),\n        content\n      };\n      onOpen(fileInfo);\n    } catch (error) {\n      console.error('Error reading file:', error);\n      // TODO: Show error toast\n    }\n\n    // Reset input value to allow selecting the same file again\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  };\n\n  const readFileContent = (file: File): Promise<string> => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = (e) => resolve(e.target?.result as string);\n      reader.onerror = () => reject(new Error('Failed to read file'));\n      reader.readAsText(file);\n    });\n  };\n\n  const handleOpenClick = () => {\n    if (disabled) return;\n    fileInputRef.current?.click();\n  };\n\n  const handleSaveClick = () => {\n    if (disabled) return;\n    onSave();\n  };\n\n  const handleNewClick = () => {\n    if (disabled) return;\n    onNew();\n  };\n\n  const buttonBaseClass = `\n    px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200 flex items-center space-x-2\n    ${theme === 'dark' \n      ? 'text-gray-300 hover:text-white hover:bg-gray-700 border-gray-600' \n      : 'text-gray-700 hover:text-gray-900 hover:bg-gray-50 border-gray-300'\n    }\n    ${disabled ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}\n    border\n  `;\n\n  const primaryButtonClass = `\n    px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200 flex items-center space-x-2\n    ${theme === 'dark' \n      ? 'bg-blue-600 hover:bg-blue-700 text-white' \n      : 'bg-blue-600 hover:bg-blue-700 text-white'\n    }\n    ${disabled ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}\n  `;\n\n  const dangerButtonClass = `\n    px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200 flex items-center space-x-2\n    ${theme === 'dark' \n      ? 'bg-red-600 hover:bg-red-700 text-white' \n      : 'bg-red-600 hover:bg-red-700 text-white'\n    }\n    ${disabled ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}\n  `;\n\n  return (\n    <div className=\"flex items-center space-x-2\">\n      {/* Hidden file input */}\n      <input\n        ref={fileInputRef}\n        type=\"file\"\n        accept=\".json,.txt\"\n        onChange={handleFileSelect}\n        className=\"hidden\"\n        aria-label=\"Select JSON file\"\n      />\n\n      {/* New File Button */}\n      <button\n        onClick={handleNewClick}\n        className={buttonBaseClass}\n        disabled={disabled}\n        title=\"Create new file (Ctrl+N)\"\n      >\n        <span>üìÑ</span>\n        <span>New</span>\n      </button>\n\n      {/* Open File Button */}\n      <button\n        onClick={handleOpenClick}\n        className={buttonBaseClass}\n        disabled={disabled}\n        title=\"Open file (Ctrl+O)\"\n      >\n        <span>üìÅ</span>\n        <span>Open</span>\n      </button>\n\n      {/* Save File Button */}\n      <button\n        onClick={handleSaveClick}\n        className={isDirty ? primaryButtonClass : buttonBaseClass}\n        disabled={disabled}\n        title=\"Save file (Ctrl+S)\"\n      >\n        <span>üíæ</span>\n        <span>Save</span>\n        {isDirty && (\n          <span className=\"w-2 h-2 bg-orange-500 rounded-full ml-1\" title=\"Unsaved changes\" />\n        )}\n      </button>\n\n      {/* File Info */}\n      {currentFile && (\n        <div className={`\n          px-3 py-2 text-sm rounded-md border\n          ${theme === 'dark' \n            ? 'bg-gray-800 border-gray-600 text-gray-300' \n            : 'bg-gray-50 border-gray-300 text-gray-600'\n          }\n        `}>\n          <div className=\"flex items-center space-x-2\">\n            <span className=\"font-medium\">{currentFile.name}</span>\n            <span className=\"text-xs opacity-75\">\n              ({formatFileSize(currentFile.size)})\n            </span>\n            {isDirty && (\n              <span className=\"text-orange-500 text-xs\">‚óè</span>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst formatFileSize = (bytes: number): string => {\n  if (bytes < 1024) return `${bytes} B`;\n  if (bytes < 1024 * 1024) return `${(bytes / 1024).toFixed(1)} KB`;\n  return `${(bytes / (1024 * 1024)).toFixed(1)} MB`;\n};\n\nexport default FileOperations;","import React, { useState, useCallback } from 'react';\nimport type { FileInfo } from '../../types/editor.types';\n\ninterface FileDropZoneProps {\n  onFileDrop: (file: FileInfo) => void;\n  onError: (error: string) => void;\n  theme: 'light' | 'dark';\n  disabled?: boolean;\n  children: React.ReactNode;\n}\n\nconst FileDropZone: React.FC<FileDropZoneProps> = ({\n  onFileDrop,\n  onError,\n  theme,\n  disabled = false,\n  children\n}) => {\n  const [isDragOver, setIsDragOver] = useState(false);\n  const [dragCounter, setDragCounter] = useState(0);\n\n  const validateFile = (file: File): boolean => {\n    // Check file type\n    const validTypes = ['application/json', 'text/plain'];\n    const validExtensions = ['.json', '.txt'];\n    \n    const isValidType = validTypes.includes(file.type) || \n                       validExtensions.some(ext => file.name.toLowerCase().endsWith(ext));\n    \n    if (!isValidType) {\n      onError('Please select a JSON or text file');\n      return false;\n    }\n\n    // Check file size (max 10MB)\n    const maxSize = 10 * 1024 * 1024; // 10MB\n    if (file.size > maxSize) {\n      onError('File size must be less than 10MB');\n      return false;\n    }\n\n    return true;\n  };\n\n  const readFileContent = (file: File): Promise<string> => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = (e) => resolve(e.target?.result as string);\n      reader.onerror = () => reject(new Error('Failed to read file'));\n      reader.readAsText(file);\n    });\n  };\n\n  const handleFile = async (file: File) => {\n    if (!validateFile(file)) return;\n\n    try {\n      const content = await readFileContent(file);\n      const fileInfo: FileInfo = {\n        name: file.name,\n        size: file.size,\n        lastModified: new Date(file.lastModified),\n        content\n      };\n      onFileDrop(fileInfo);\n    } catch (error) {\n      onError('Failed to read file content');\n    }\n  };\n\n  const handleDragEnter = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    \n    if (disabled) return;\n    \n    setDragCounter(prev => prev + 1);\n    \n    if (e.dataTransfer.items && e.dataTransfer.items.length > 0) {\n      setIsDragOver(true);\n    }\n  }, [disabled]);\n\n  const handleDragLeave = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    \n    if (disabled) return;\n    \n    setDragCounter(prev => {\n      const newCounter = prev - 1;\n      if (newCounter === 0) {\n        setIsDragOver(false);\n      }\n      return newCounter;\n    });\n  }, [disabled]);\n\n  const handleDragOver = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    \n    if (disabled) return;\n    \n    // Set the dropEffect to indicate this is a copy operation\n    e.dataTransfer.dropEffect = 'copy';\n  }, [disabled]);\n\n  const handleDrop = useCallback(async (e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    \n    if (disabled) return;\n    \n    setIsDragOver(false);\n    setDragCounter(0);\n    \n    const files = Array.from(e.dataTransfer.files);\n    \n    if (files.length === 0) {\n      onError('No files were dropped');\n      return;\n    }\n    \n    if (files.length > 1) {\n      onError('Please drop only one file at a time');\n      return;\n    }\n    \n    await handleFile(files[0]);\n  }, [disabled, onError]);\n\n  const overlayClass = `\n    absolute inset-0 z-10 flex items-center justify-center\n    ${theme === 'dark' \n      ? 'bg-gray-900/80 border-blue-400' \n      : 'bg-white/80 border-blue-500'\n    }\n    border-2 border-dashed rounded-lg transition-all duration-200\n    ${isDragOver ? 'opacity-100' : 'opacity-0 pointer-events-none'}\n  `;\n\n  const dropMessageClass = `\n    px-6 py-4 rounded-lg text-center\n    ${theme === 'dark' \n      ? 'bg-gray-800 text-gray-200 border-gray-600' \n      : 'bg-white text-gray-700 border-gray-300'\n    }\n    border shadow-lg\n  `;\n\n  return (\n    <div\n      className=\"relative w-full h-full\"\n      onDragEnter={handleDragEnter}\n      onDragLeave={handleDragLeave}\n      onDragOver={handleDragOver}\n      onDrop={handleDrop}\n    >\n      {children}\n      \n      {/* Drag overlay */}\n      <div className={overlayClass}>\n        <div className={dropMessageClass}>\n          <div className=\"text-2xl mb-2\">üìÅ</div>\n          <div className=\"text-lg font-medium mb-1\">\n            Drop your JSON file here\n          </div>\n          <div className=\"text-sm opacity-75\">\n            Supports .json and .txt files (max 10MB)\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FileDropZone;","import React, { useState, useCallback, useEffect } from 'react';\n\ninterface SearchPanelProps {\n  isVisible: boolean;\n  onClose: () => void;\n  onSearch: (query: string, options: SearchOptions) => void;\n  onReplace: (searchQuery: string, replaceText: string, options: SearchOptions) => void;\n  onReplaceAll: (searchQuery: string, replaceText: string, options: SearchOptions) => void;\n  onFindNext: () => void;\n  onFindPrevious: () => void;\n  searchResults: SearchResult[];\n  currentResultIndex: number;\n  theme: 'light' | 'dark';\n}\n\ninterface SearchOptions {\n  caseSensitive: boolean;\n  useRegex: boolean;\n  wholeWord: boolean;\n}\n\ninterface SearchResult {\n  line: number;\n  column: number;\n  length: number;\n  text: string;\n}\n\nconst SearchPanel: React.FC<SearchPanelProps> = ({\n  isVisible,\n  onClose,\n  onSearch,\n  onReplace,\n  onReplaceAll,\n  onFindNext,\n  onFindPrevious,\n  searchResults,\n  currentResultIndex,\n  theme\n}) => {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [replaceText, setReplaceText] = useState('');\n  const [showReplace, setShowReplace] = useState(false);\n  const [options, setOptions] = useState<SearchOptions>({\n    caseSensitive: false,\n    useRegex: false,\n    wholeWord: false\n  });\n\n  // Auto-search when query or options change\n  useEffect(() => {\n    if (searchQuery.trim()) {\n      onSearch(searchQuery, options);\n    }\n  }, [searchQuery, options, onSearch]);\n\n  const handleSearchChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    setSearchQuery(e.target.value);\n  }, []);\n\n  const handleReplaceChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    setReplaceText(e.target.value);\n  }, []);\n\n  const handleOptionChange = useCallback((option: keyof SearchOptions) => {\n    setOptions(prev => ({\n      ...prev,\n      [option]: !prev[option]\n    }));\n  }, []);\n\n  const handleReplace = useCallback(() => {\n    if (searchQuery.trim() && replaceText !== undefined) {\n      onReplace(searchQuery, replaceText, options);\n    }\n  }, [searchQuery, replaceText, options, onReplace]);\n\n  const handleReplaceAll = useCallback(() => {\n    if (searchQuery.trim() && replaceText !== undefined) {\n      onReplaceAll(searchQuery, replaceText, options);\n    }\n  }, [searchQuery, replaceText, options, onReplaceAll]);\n\n  const handleKeyDown = useCallback((e: React.KeyboardEvent) => {\n    if (e.key === 'Enter') {\n      if (e.shiftKey) {\n        onFindPrevious();\n      } else {\n        onFindNext();\n      }\n    } else if (e.key === 'Escape') {\n      onClose();\n    }\n  }, [onFindNext, onFindPrevious, onClose]);\n\n  if (!isVisible) return null;\n\n  const panelClass = `\n    absolute top-0 right-0 z-20 w-80 p-4 shadow-lg border-l\n    ${theme === 'dark' \n      ? 'bg-gray-800 border-gray-700 text-gray-100' \n      : 'bg-white border-gray-200 text-gray-900'\n    }\n  `;\n\n  const inputClass = `\n    w-full px-3 py-2 text-sm border rounded-md transition-colors\n    ${theme === 'dark' \n      ? 'bg-gray-700 border-gray-600 text-gray-100 placeholder-gray-400 focus:border-blue-400' \n      : 'bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-blue-500'\n    }\n    focus:outline-none focus:ring-1 focus:ring-blue-500\n  `;\n\n  const buttonClass = `\n    px-3 py-1.5 text-sm font-medium rounded-md transition-colors\n    ${theme === 'dark' \n      ? 'bg-gray-700 hover:bg-gray-600 text-gray-200 border-gray-600' \n      : 'bg-gray-100 hover:bg-gray-200 text-gray-700 border-gray-300'\n    }\n    border\n  `;\n\n  const primaryButtonClass = `\n    px-3 py-1.5 text-sm font-medium rounded-md transition-colors\n    bg-blue-600 hover:bg-blue-700 text-white\n  `;\n\n  const toggleButtonClass = (active: boolean) => `\n    px-2 py-1 text-xs font-medium rounded transition-colors\n    ${active \n      ? (theme === 'dark' ? 'bg-blue-600 text-white' : 'bg-blue-600 text-white')\n      : (theme === 'dark' ? 'bg-gray-700 hover:bg-gray-600 text-gray-300' : 'bg-gray-100 hover:bg-gray-200 text-gray-600')\n    }\n  `;\n\n  return (\n    <div className={panelClass}>\n      {/* Header */}\n      <div className=\"flex items-center justify-between mb-4\">\n        <h3 className=\"text-lg font-semibold\">\n          {showReplace ? 'Find & Replace' : 'Find'}\n        </h3>\n        <div className=\"flex items-center space-x-2\">\n          <button\n            onClick={() => setShowReplace(!showReplace)}\n            className={buttonClass}\n            title=\"Toggle replace mode\"\n          >\n            {showReplace ? 'üîç' : 'üîÑ'}\n          </button>\n          <button\n            onClick={onClose}\n            className={buttonClass}\n            title=\"Close search panel\"\n          >\n            √ó\n          </button>\n        </div>\n      </div>\n\n      {/* Search Input */}\n      <div className=\"mb-3\">\n        <input\n          type=\"text\"\n          placeholder=\"Search...\"\n          value={searchQuery}\n          onChange={handleSearchChange}\n          onKeyDown={handleKeyDown}\n          className={inputClass}\n          autoFocus\n        />\n      </div>\n\n      {/* Replace Input */}\n      {showReplace && (\n        <div className=\"mb-3\">\n          <input\n            type=\"text\"\n            placeholder=\"Replace with...\"\n            value={replaceText}\n            onChange={handleReplaceChange}\n            onKeyDown={handleKeyDown}\n            className={inputClass}\n          />\n        </div>\n      )}\n\n      {/* Search Options */}\n      <div className=\"mb-4\">\n        <div className=\"flex flex-wrap gap-2\">\n          <button\n            onClick={() => handleOptionChange('caseSensitive')}\n            className={toggleButtonClass(options.caseSensitive)}\n            title=\"Match case\"\n          >\n            Aa\n          </button>\n          <button\n            onClick={() => handleOptionChange('wholeWord')}\n            className={toggleButtonClass(options.wholeWord)}\n            title=\"Match whole word\"\n          >\n            Ab\n          </button>\n          <button\n            onClick={() => handleOptionChange('useRegex')}\n            className={toggleButtonClass(options.useRegex)}\n            title=\"Use regular expression\"\n          >\n            .*\n          </button>\n        </div>\n      </div>\n\n      {/* Search Results */}\n      {searchQuery && (\n        <div className=\"mb-4\">\n          <div className={`\n            text-sm px-2 py-1 rounded\n            ${theme === 'dark' ? 'bg-gray-700 text-gray-300' : 'bg-gray-100 text-gray-600'}\n          `}>\n            {searchResults.length > 0 \n              ? `${currentResultIndex + 1} of ${searchResults.length} results`\n              : 'No results found'\n            }\n          </div>\n        </div>\n      )}\n\n      {/* Navigation Buttons */}\n      <div className=\"mb-4\">\n        <div className=\"flex space-x-2\">\n          <button\n            onClick={onFindPrevious}\n            disabled={searchResults.length === 0}\n            className={`${buttonClass} ${searchResults.length === 0 ? 'opacity-50 cursor-not-allowed' : ''}`}\n            title=\"Find previous (Shift+Enter)\"\n          >\n            ‚Üë\n          </button>\n          <button\n            onClick={onFindNext}\n            disabled={searchResults.length === 0}\n            className={`${buttonClass} ${searchResults.length === 0 ? 'opacity-50 cursor-not-allowed' : ''}`}\n            title=\"Find next (Enter)\"\n          >\n            ‚Üì\n          </button>\n        </div>\n      </div>\n\n      {/* Replace Buttons */}\n      {showReplace && (\n        <div className=\"space-y-2\">\n          <button\n            onClick={handleReplace}\n            disabled={searchResults.length === 0}\n            className={`w-full ${searchResults.length === 0 ? buttonClass + ' opacity-50 cursor-not-allowed' : primaryButtonClass}`}\n            title=\"Replace current match\"\n          >\n            Replace\n          </button>\n          <button\n            onClick={handleReplaceAll}\n            disabled={searchResults.length === 0}\n            className={`w-full ${searchResults.length === 0 ? buttonClass + ' opacity-50 cursor-not-allowed' : primaryButtonClass}`}\n            title=\"Replace all matches\"\n          >\n            Replace All ({searchResults.length})\n          </button>\n        </div>\n      )}\n\n      {/* Keyboard Shortcuts Help */}\n      <div className={`\n        mt-4 pt-3 border-t text-xs\n        ${theme === 'dark' ? 'border-gray-700 text-gray-400' : 'border-gray-200 text-gray-500'}\n      `}>\n        <div>Enter: Find next</div>\n        <div>Shift+Enter: Find previous</div>\n        <div>Escape: Close panel</div>\n      </div>\n    </div>\n  );\n};\n\nexport default SearchPanel;","import React, { Component, ErrorInfo, ReactNode } from 'react';\r\n\r\ninterface Props {\r\n  children: ReactNode;\r\n  fallback?: ReactNode;\r\n  onError?: (error: Error, errorInfo: ErrorInfo) => void;\r\n}\r\n\r\ninterface State {\r\n  hasError: boolean;\r\n  error?: Error;\r\n  errorInfo?: ErrorInfo;\r\n}\r\n\r\nclass ErrorBoundary extends Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n    this.state = { hasError: false };\r\n  }\r\n\r\n  static getDerivedStateFromError(error: Error): State {\r\n    // Update state so the next render will show the fallback UI\r\n    return { hasError: true, error };\r\n  }\r\n\r\n  componentDidCatch(error: Error, errorInfo: ErrorInfo) {\r\n    // Log error details\r\n    console.error('ErrorBoundary caught an error:', error, errorInfo);\r\n    \r\n    // Update state with error info\r\n    this.setState({\r\n      error,\r\n      errorInfo\r\n    });\r\n\r\n    // Call optional error handler\r\n    if (this.props.onError) {\r\n      this.props.onError(error, errorInfo);\r\n    }\r\n\r\n    // TODO: Send error to logging service\r\n    // logErrorToService(error, errorInfo);\r\n  }\r\n\r\n  handleRetry = () => {\r\n    this.setState({ hasError: false, error: undefined, errorInfo: undefined });\r\n  };\r\n\r\n  handleReload = () => {\r\n    window.location.reload();\r\n  };\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      // Custom fallback UI\r\n      if (this.props.fallback) {\r\n        return this.props.fallback;\r\n      }\r\n\r\n      // Default error UI\r\n      return (\r\n        <div className=\"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900\">\r\n          <div className=\"max-w-md w-full bg-white dark:bg-gray-800 shadow-lg rounded-lg p-6\">\r\n            <div className=\"flex items-center mb-4\">\r\n              <div className=\"flex-shrink-0\">\r\n                <svg\r\n                  className=\"h-8 w-8 text-red-500\"\r\n                  fill=\"none\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  stroke=\"currentColor\"\r\n                >\r\n                  <path\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    strokeWidth={2}\r\n                    d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\"\r\n                  />\r\n                </svg>\r\n              </div>\r\n              <div className=\"ml-3\">\r\n                <h3 className=\"text-lg font-medium text-gray-900 dark:text-gray-100\">\r\n                  Something went wrong\r\n                </h3>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mb-4\">\r\n              <p className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                The JSON Editor encountered an unexpected error. You can try to recover by clicking the buttons below.\r\n              </p>\r\n            </div>\r\n\r\n            {/* Error details (only in development) */}\r\n            {import.meta.env.DEV && this.state.error && (\r\n              <div className=\"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded\">\r\n                <h4 className=\"text-sm font-medium text-red-800 dark:text-red-200 mb-2\">\r\n                  Error Details:\r\n                </h4>\r\n                <pre className=\"text-xs text-red-700 dark:text-red-300 whitespace-pre-wrap overflow-auto max-h-32\">\r\n                  {this.state.error.message}\r\n                  {this.state.errorInfo?.componentStack && (\r\n                    <>\r\n                      {'\\n\\nComponent Stack:'}\r\n                      {this.state.errorInfo.componentStack}\r\n                    </>\r\n                  )}\r\n                </pre>\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"flex space-x-3\">\r\n              <button\r\n                onClick={this.handleRetry}\r\n                className=\"flex-1 bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors\"\r\n              >\r\n                Try Again\r\n              </button>\r\n              <button\r\n                onClick={this.handleReload}\r\n                className=\"flex-1 bg-gray-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors\"\r\n              >\r\n                Reload Page\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"mt-4 text-center\">\r\n              <p className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                If the problem persists, please refresh the page or contact support.\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary;","import React, { useEffect, useState } from 'react';\r\n\r\nexport type ToastType = 'success' | 'error' | 'warning' | 'info';\r\n\r\nexport interface ToastMessage {\r\n  id: string;\r\n  type: ToastType;\r\n  title: string;\r\n  message?: string;\r\n  duration?: number;\r\n  action?: {\r\n    label: string;\r\n    onClick: () => void;\r\n  };\r\n}\r\n\r\ninterface ToastProps {\r\n  toast: ToastMessage;\r\n  onClose: (id: string) => void;\r\n}\r\n\r\nconst Toast: React.FC<ToastProps> = ({ toast, onClose }) => {\r\n  const [isVisible, setIsVisible] = useState(false);\r\n  const [isLeaving, setIsLeaving] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Trigger entrance animation\r\n    const timer = setTimeout(() => setIsVisible(true), 10);\r\n    return () => clearTimeout(timer);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const duration = toast.duration ?? 5000; // Default 5 seconds\r\n    if (duration > 0) {\r\n      const timer = setTimeout(() => {\r\n        handleClose();\r\n      }, duration);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [toast.duration]);\r\n\r\n  const handleClose = () => {\r\n    setIsLeaving(true);\r\n    setTimeout(() => {\r\n      onClose(toast.id);\r\n    }, 300); // Match animation duration\r\n  };\r\n\r\n  const getToastStyles = () => {\r\n    const baseStyles = `\r\n      relative flex items-start p-4 mb-3 rounded-lg shadow-lg border-l-4 transition-all duration-300 ease-in-out\r\n      ${isVisible && !isLeaving ? 'translate-x-0 opacity-100' : 'translate-x-full opacity-0'}\r\n    `;\r\n\r\n    switch (toast.type) {\r\n      case 'success':\r\n        return `${baseStyles} bg-green-50 dark:bg-green-900/20 border-green-500 text-green-800 dark:text-green-200`;\r\n      case 'error':\r\n        return `${baseStyles} bg-red-50 dark:bg-red-900/20 border-red-500 text-red-800 dark:text-red-200`;\r\n      case 'warning':\r\n        return `${baseStyles} bg-yellow-50 dark:bg-yellow-900/20 border-yellow-500 text-yellow-800 dark:text-yellow-200`;\r\n      case 'info':\r\n        return `${baseStyles} bg-blue-50 dark:bg-blue-900/20 border-blue-500 text-blue-800 dark:text-blue-200`;\r\n      default:\r\n        return `${baseStyles} bg-gray-50 dark:bg-gray-800 border-gray-500 text-gray-800 dark:text-gray-200`;\r\n    }\r\n  };\r\n\r\n  const getIcon = () => {\r\n    switch (toast.type) {\r\n      case 'success':\r\n        return (\r\n          <svg className=\"w-5 h-5 text-green-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n            <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\r\n          </svg>\r\n        );\r\n      case 'error':\r\n        return (\r\n          <svg className=\"w-5 h-5 text-red-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n            <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\r\n          </svg>\r\n        );\r\n      case 'warning':\r\n        return (\r\n          <svg className=\"w-5 h-5 text-yellow-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n            <path fillRule=\"evenodd\" d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\r\n          </svg>\r\n        );\r\n      case 'info':\r\n        return (\r\n          <svg className=\"w-5 h-5 text-blue-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n            <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clipRule=\"evenodd\" />\r\n          </svg>\r\n        );\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={getToastStyles()}>\r\n      {/* Icon */}\r\n      <div className=\"flex-shrink-0 mr-3\">\r\n        {getIcon()}\r\n      </div>\r\n\r\n      {/* Content */}\r\n      <div className=\"flex-1 min-w-0\">\r\n        <h4 className=\"text-sm font-medium\">{toast.title}</h4>\r\n        {toast.message && (\r\n          <p className=\"mt-1 text-sm opacity-90\">{toast.message}</p>\r\n        )}\r\n        {toast.action && (\r\n          <div className=\"mt-2\">\r\n            <button\r\n              onClick={toast.action.onClick}\r\n              className=\"text-sm font-medium underline hover:no-underline focus:outline-none\"\r\n            >\r\n              {toast.action.label}\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Close Button */}\r\n      <button\r\n        onClick={handleClose}\r\n        className=\"flex-shrink-0 ml-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 focus:outline-none\"\r\n      >\r\n        <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n          <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\r\n        </svg>\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Toast;","import React from 'react';\r\nimport Toast, { ToastMessage } from './Toast';\r\n\r\ninterface ToastContainerProps {\r\n  toasts: ToastMessage[];\r\n  onRemoveToast: (id: string) => void;\r\n  position?: 'top-right' | 'top-left' | 'bottom-right' | 'bottom-left' | 'top-center' | 'bottom-center';\r\n}\r\n\r\nconst ToastContainer: React.FC<ToastContainerProps> = ({\r\n  toasts,\r\n  onRemoveToast,\r\n  position = 'top-right'\r\n}) => {\r\n  const getPositionStyles = () => {\r\n    const baseStyles = 'fixed z-50 max-w-sm w-full';\r\n    \r\n    switch (position) {\r\n      case 'top-right':\r\n        return `${baseStyles} top-4 right-4`;\r\n      case 'top-left':\r\n        return `${baseStyles} top-4 left-4`;\r\n      case 'bottom-right':\r\n        return `${baseStyles} bottom-4 right-4`;\r\n      case 'bottom-left':\r\n        return `${baseStyles} bottom-4 left-4`;\r\n      case 'top-center':\r\n        return `${baseStyles} top-4 left-1/2 transform -translate-x-1/2`;\r\n      case 'bottom-center':\r\n        return `${baseStyles} bottom-4 left-1/2 transform -translate-x-1/2`;\r\n      default:\r\n        return `${baseStyles} top-4 right-4`;\r\n    }\r\n  };\r\n\r\n  if (toasts.length === 0) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className={getPositionStyles()}>\r\n      {toasts.map((toast) => (\r\n        <Toast\r\n          key={toast.id}\r\n          toast={toast}\r\n          onClose={onRemoveToast}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ToastContainer;","import { useState, useRef } from 'react';\nimport './App.css';\nimport JsonEditor from './components/Editor/JsonEditor';\nimport { SettingsPanel } from './components/Settings';\nimport { FileOperations, FileDropZone } from './components/FileManager';\nimport { SearchPanel } from './components/SearchReplace';\nimport { ErrorBoundary, ToastContainer } from './components/UI';\n// import { ErrorService } from './services/errorService';\nimport useToast from './hooks/useToast';\nimport useKeyboardShortcuts from './hooks/useKeyboardShortcuts';\nimport type { EditorSettings, JsonError, FileInfo, EditorMethods } from './types/editor.types';\n\nfunction App() {\n  const [content, setContent] = useState('{\\n  \"example\": \"JSON content\",\\n  \"number\": 42,\\n  \"boolean\": true\\n}');\n  const [errors, setErrors] = useState<JsonError[]>([]);\n  const [theme, setTheme] = useState<'light' | 'dark'>('light');\n  const [cursorPosition, setCursorPosition] = useState({ line: 1, column: 1 });\n  const [selection, setSelection] = useState({ startLine: 1, startColumn: 1, endLine: 1, endColumn: 1 });\n  const [showSettings, setShowSettings] = useState(false);\n  const [showSearch, setShowSearch] = useState(false);\n  const [currentFile, setCurrentFile] = useState<FileInfo | null>(null);\n  const [isDirty, setIsDirty] = useState(false);\n  const [originalContent, setOriginalContent] = useState('{\\n  \"example\": \"JSON content\",\\n  \"number\": 42,\\n  \"boolean\": true\\n}');\n  const [searchResults, setSearchResults] = useState<any[]>([]);\n  const [currentResultIndex, setCurrentResultIndex] = useState(0);\n  \n  const editorRef = useRef<EditorMethods>(null);\n  const { toasts, removeToast, showSuccess, showError } = useToast();\n  \n  const [settings, setSettings] = useState<EditorSettings>({\n    indentSize: 2,\n    indentType: 'spaces',\n    wordWrap: false,\n    lineNumbers: true,\n    minimap: true\n  });\n\n  const handleContentChange = (value: string) => {\n    handleContentChangeWithDirty(value);\n  };\n\n  const handleValidationChange = (validationErrors: JsonError[]) => {\n    setErrors(validationErrors);\n  };\n\n  const handleCursorPositionChange = (position: { line: number; column: number }) => {\n    setCursorPosition(position);\n  };\n\n  const handleSelectionChange = (sel: { startLine: number; startColumn: number; endLine: number; endColumn: number }) => {\n    setSelection(sel);\n  };\n\n  const toggleTheme = () => {\n    setTheme(prev => prev === 'light' ? 'dark' : 'light');\n  };\n\n  const handleSettingsChange = (newSettings: Partial<EditorSettings>) => {\n    setSettings(prev => ({ ...prev, ...newSettings }));\n  };\n\n  const toggleSettings = () => {\n    setShowSettings(prev => !prev);\n  };\n\n  // File operations handlers\n  const handleFileOpen = (file: FileInfo) => {\n    if (isDirty) {\n      const shouldDiscard = window.confirm('You have unsaved changes. Do you want to discard them?');\n      if (!shouldDiscard) return;\n    }\n    \n    setCurrentFile(file);\n    setContent(file.content);\n    setOriginalContent(file.content);\n    setIsDirty(false);\n  };\n\n  const handleFileSave = () => {\n    const filename = currentFile?.name || 'untitled.json';\n    const blob = new Blob([content], { type: 'application/json' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = filename;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n    \n    setOriginalContent(content);\n    setIsDirty(false);\n    showSuccess('File Saved', `Successfully saved ${filename}`);\n  };\n\n  const handleFileNew = () => {\n    if (isDirty) {\n      const shouldDiscard = window.confirm('You have unsaved changes. Do you want to discard them?');\n      if (!shouldDiscard) return;\n    }\n    \n    const newContent = '{\\n  \\n}';\n    setCurrentFile(null);\n    setContent(newContent);\n    setOriginalContent(newContent);\n    setIsDirty(false);\n  };\n\n  const handleFileError = (error: string) => {\n    showError('File Error', error);\n  };\n\n  // Track content changes for dirty state\n  const handleContentChangeWithDirty = (value: string) => {\n    setContent(value);\n    setIsDirty(value !== originalContent);\n  };\n\n  // Format and minify handlers\n  const handleFormat = () => {\n    try {\n      const parsed = JSON.parse(content);\n      const formatted = JSON.stringify(parsed, null, settings.indentSize);\n      setContent(formatted);\n      setIsDirty(formatted !== originalContent);\n      showSuccess('JSON Formatted', 'Your JSON has been formatted successfully');\n    } catch (error) {\n      showError('Format Error', 'Cannot format invalid JSON. Please fix syntax errors first.');\n    }\n  };\n\n  const handleMinify = () => {\n    try {\n      const parsed = JSON.parse(content);\n      const minified = JSON.stringify(parsed);\n      setContent(minified);\n      setIsDirty(minified !== originalContent);\n      showSuccess('JSON Minified', 'Your JSON has been minified successfully');\n    } catch (error) {\n      showError('Minify Error', 'Cannot minify invalid JSON. Please fix syntax errors first.');\n    }\n  };\n\n  const handleValidate = () => {\n    try {\n      JSON.parse(content);\n      showSuccess('JSON Valid', 'Your JSON syntax is valid!');\n    } catch (error) {\n      showError('JSON Invalid', `JSON syntax error: ${(error as Error).message}`);\n    }\n  };\n\n  // Search and replace handlers\n  const toggleSearch = () => {\n    setShowSearch(prev => !prev);\n  };\n\n  const handleSearch = (query: string, options: any) => {\n    if (!editorRef.current) return;\n    \n    // Use Monaco Editor's built-in search functionality\n    const editor = editorRef.current.getEditor();\n    if (editor) {\n      editor.trigger('search', 'actions.find', {});\n    }\n  };\n\n  const handleReplace = (searchQuery: string, replaceText: string, options: any) => {\n    if (!editorRef.current) return;\n    \n    // Use Monaco Editor's built-in replace functionality\n    const editor = editorRef.current.getEditor();\n    if (editor) {\n      editor.trigger('replace', 'editor.action.startFindReplaceAction', {});\n    }\n  };\n\n  const handleReplaceAll = (searchQuery: string, replaceText: string, options: any) => {\n    if (!editorRef.current) return;\n    \n    // Use Monaco Editor's built-in replace all functionality\n    const editor = editorRef.current.getEditor();\n    if (editor) {\n      editor.trigger('replaceAll', 'editor.action.startFindReplaceAction', {});\n    }\n  };\n\n  const handleFindNext = () => {\n    if (!editorRef.current) return;\n    \n    const editor = editorRef.current.getEditor();\n    if (editor) {\n      editor.trigger('findNext', 'editor.action.nextMatchFindAction', {});\n    }\n  };\n\n  const handleFindPrevious = () => {\n    if (!editorRef.current) return;\n    \n    const editor = editorRef.current.getEditor();\n    if (editor) {\n      editor.trigger('findPrevious', 'editor.action.previousMatchFindAction', {});\n    }\n  };\n\n  // Define keyboard shortcuts\n  const shortcuts = [\n    {\n      key: 'n',\n      ctrlKey: true,\n      action: handleFileNew,\n      description: 'Create new file'\n    },\n    {\n      key: 'o',\n      ctrlKey: true,\n      action: () => {\n        // Trigger file input click\n        const fileInput = document.querySelector('input[type=\"file\"]') as HTMLInputElement;\n        fileInput?.click();\n      },\n      description: 'Open file'\n    },\n    {\n      key: 's',\n      ctrlKey: true,\n      action: handleFileSave,\n      description: 'Save file'\n    },\n    {\n      key: 'f',\n      ctrlKey: true,\n      action: toggleSearch,\n      description: 'Find/Search'\n    },\n    {\n      key: ',',\n      ctrlKey: true,\n      action: toggleSettings,\n      description: 'Open settings'\n    },\n    {\n      key: 'Enter',\n      ctrlKey: true,\n      shiftKey: true,\n      action: handleFormat,\n      description: 'Format JSON'\n    },\n    {\n      key: 'Enter',\n      ctrlKey: true,\n      altKey: true,\n      action: handleMinify,\n      description: 'Minify JSON'\n    },\n    {\n      key: 'Enter',\n      ctrlKey: true,\n      action: handleValidate,\n      description: 'Validate JSON'\n    },\n    {\n      key: 'd',\n      ctrlKey: true,\n      action: toggleTheme,\n      description: 'Toggle dark/light theme'\n    }\n  ];\n\n  // Initialize keyboard shortcuts\n  useKeyboardShortcuts(shortcuts);\n\n  return (\n    <ErrorBoundary>\n      <div className=\"h-screen flex flex-col bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100\">\n      {/* Header */}\n      <header className=\"h-12 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 flex items-center px-4 flex-shrink-0\">\n        <h1 className=\"text-lg font-semibold\">JSON Editor</h1>\n        <div className=\"ml-auto flex items-center space-x-2\">\n          <button className=\"btn-secondary text-sm\" onClick={toggleTheme}>\n            {theme === 'light' ? 'Dark' : 'Light'}\n          </button>\n        </div>\n      </header>\n\n      {/* Toolbar */}\n      <div className=\"h-12 bg-gray-50 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 flex items-center px-4 space-x-2 flex-shrink-0\">\n        <FileOperations\n          onOpen={handleFileOpen}\n          onSave={handleFileSave}\n          onNew={handleFileNew}\n          isDirty={isDirty}\n          currentFile={currentFile}\n          theme={theme}\n        />\n        <div className=\"w-px h-6 bg-gray-300 dark:bg-gray-600\"></div>\n        <button className=\"btn-secondary text-sm\" onClick={handleFormat}>Format</button>\n        <button className=\"btn-secondary text-sm\" onClick={handleMinify}>Minify</button>\n        <button className=\"btn-secondary text-sm\" onClick={handleValidate}>Validate</button>\n        <div className=\"w-px h-6 bg-gray-300 dark:bg-gray-600\"></div>\n        <button className=\"btn-secondary text-sm\" onClick={toggleSearch}>Search</button>\n        <button className=\"btn-secondary text-sm\" onClick={toggleSettings}>Settings</button>\n      </div>\n\n      {/* Main Content */}\n      <main className=\"flex-1 flex overflow-hidden relative\">\n        {/* Editor Area with File Drop Zone */}\n        <div className=\"flex-1 p-4\">\n          <FileDropZone\n            onFileDrop={handleFileOpen}\n            onError={handleFileError}\n            theme={theme}\n          >\n            <div className=\"editor-container h-full\">\n              <JsonEditor\n                ref={editorRef}\n                value={content}\n                onChange={handleContentChange}\n                onValidationChange={handleValidationChange}\n                onCursorPositionChange={handleCursorPositionChange}\n                onSelectionChange={handleSelectionChange}\n                theme={theme}\n                settings={settings}\n              />\n            </div>\n          </FileDropZone>\n        </div>\n\n        {/* Search Panel */}\n        <SearchPanel\n          isVisible={showSearch}\n          onClose={() => setShowSearch(false)}\n          onSearch={handleSearch}\n          onReplace={handleReplace}\n          onReplaceAll={handleReplaceAll}\n          onFindNext={handleFindNext}\n          onFindPrevious={handleFindPrevious}\n          searchResults={searchResults}\n          currentResultIndex={currentResultIndex}\n          theme={theme}\n        />\n      </main>\n\n      {/* Status Bar */}\n      <footer className=\"h-6 bg-gray-100 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 flex items-center px-4 text-xs text-gray-600 dark:text-gray-400 flex-shrink-0\">\n        <span>\n          {errors.length === 0 ? (\n            <span className=\"text-green-600 dark:text-green-400\">‚úì Valid JSON</span>\n          ) : (\n            <span className=\"text-red-600 dark:text-red-400\">\n              ‚úó {errors.length} error{errors.length > 1 ? 's' : ''}\n            </span>\n          )}\n        </span>\n        <span className=\"ml-4\">\n          Ln {cursorPosition.line}, Col {cursorPosition.column}\n        </span>\n        {selection.startLine !== selection.endLine || selection.startColumn !== selection.endColumn ? (\n          <span className=\"ml-4\">\n            ({Math.abs(selection.endLine - selection.startLine) + 1} lines, {\n              selection.startLine === selection.endLine \n                ? Math.abs(selection.endColumn - selection.startColumn)\n                : 'multiple'\n            } chars selected)\n          </span>\n        ) : null}\n        <span className=\"ml-auto\">Characters: {content.length}</span>\n      </footer>\n\n      {/* Settings Panel */}\n      <SettingsPanel\n        isOpen={showSettings}\n        onClose={() => setShowSettings(false)}\n        settings={settings}\n        onSettingsChange={handleSettingsChange}\n        theme={theme}\n        onThemeChange={setTheme}\n      />\n\n      {/* Toast Notifications */}\n      <ToastContainer\n        toasts={toasts}\n        onRemoveToast={removeToast}\n        position=\"top-right\"\n      />\n    </div>\n    </ErrorBoundary>\n  );\n}\n\nexport default App;\n","import { useState, useCallback } from 'react';\r\nimport type { ToastMessage, ToastType } from '../components/UI';\r\n\r\nconst useToast = () => {\r\n  const [toasts, setToasts] = useState<ToastMessage[]>([]);\r\n\r\n  const addToast = useCallback((\r\n    type: ToastType,\r\n    title: string,\r\n    message?: string,\r\n    options?: {\r\n      duration?: number;\r\n      action?: {\r\n        label: string;\r\n        onClick: () => void;\r\n      };\r\n    }\r\n  ) => {\r\n    const id = Date.now().toString() + Math.random().toString(36).substr(2, 9);\r\n    const toast: ToastMessage = {\r\n      id,\r\n      type,\r\n      title,\r\n      message,\r\n      duration: options?.duration ?? (type === 'error' ? 0 : 5000), // Errors stay until dismissed\r\n      action: options?.action\r\n    };\r\n\r\n    setToasts(prev => [...prev, toast]);\r\n    return id;\r\n  }, []);\r\n\r\n  const removeToast = useCallback((id: string) => {\r\n    setToasts(prev => prev.filter(toast => toast.id !== id));\r\n  }, []);\r\n\r\n  const clearAllToasts = useCallback(() => {\r\n    setToasts([]);\r\n  }, []);\r\n\r\n  // Convenience methods\r\n  const showSuccess = useCallback((title: string, message?: string, options?: { duration?: number }) => {\r\n    return addToast('success', title, message, options);\r\n  }, [addToast]);\r\n\r\n  const showError = useCallback((title: string, message?: string, options?: { action?: { label: string; onClick: () => void } }) => {\r\n    return addToast('error', title, message, { duration: 0, ...options });\r\n  }, [addToast]);\r\n\r\n  const showWarning = useCallback((title: string, message?: string, options?: { duration?: number }) => {\r\n    return addToast('warning', title, message, options);\r\n  }, [addToast]);\r\n\r\n  const showInfo = useCallback((title: string, message?: string, options?: { duration?: number }) => {\r\n    return addToast('info', title, message, options);\r\n  }, [addToast]);\r\n\r\n  return {\r\n    toasts,\r\n    addToast,\r\n    removeToast,\r\n    clearAllToasts,\r\n    showSuccess,\r\n    showError,\r\n    showWarning,\r\n    showInfo\r\n  };\r\n};\r\n\r\nexport default useToast;","import { useEffect, useCallback, useRef } from 'react';\r\n\r\ninterface KeyboardShortcut {\r\n  key: string;\r\n  ctrlKey?: boolean;\r\n  shiftKey?: boolean;\r\n  altKey?: boolean;\r\n  metaKey?: boolean;\r\n  action: () => void;\r\n  description: string;\r\n  preventDefault?: boolean;\r\n}\r\n\r\ninterface UseKeyboardShortcutsOptions {\r\n  enabled?: boolean;\r\n  target?: HTMLElement | Document;\r\n}\r\n\r\nconst useKeyboardShortcuts = (\r\n  shortcuts: KeyboardShortcut[],\r\n  options: UseKeyboardShortcutsOptions = {}\r\n) => {\r\n  const { enabled = true, target = document } = options;\r\n  const shortcutsRef = useRef(shortcuts);\r\n\r\n  // Update shortcuts ref when shortcuts change\r\n  useEffect(() => {\r\n    shortcutsRef.current = shortcuts;\r\n  }, [shortcuts]);\r\n\r\n  const handleKeyDown = useCallback((event: Event) => {\r\n    const keyboardEvent = event as KeyboardEvent;\r\n    if (!enabled) return;\r\n\r\n    const matchingShortcut = shortcutsRef.current.find(shortcut => {\r\n      const keyMatch = shortcut.key.toLowerCase() === keyboardEvent.key.toLowerCase() ||\r\n                     shortcut.key.toLowerCase() === keyboardEvent.code.toLowerCase();\r\n      \r\n      const ctrlMatch = (shortcut.ctrlKey ?? false) === keyboardEvent.ctrlKey;\r\n      const shiftMatch = (shortcut.shiftKey ?? false) === keyboardEvent.shiftKey;\r\n      const altMatch = (shortcut.altKey ?? false) === keyboardEvent.altKey;\r\n      const metaMatch = (shortcut.metaKey ?? false) === keyboardEvent.metaKey;\r\n\r\n      return keyMatch && ctrlMatch && shiftMatch && altMatch && metaMatch;\r\n    });\r\n\r\n    if (matchingShortcut) {\r\n      if (matchingShortcut.preventDefault !== false) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n      }\r\n      matchingShortcut.action();\r\n    }\r\n  }, [enabled]);\r\n\r\n  useEffect(() => {\r\n    if (!enabled) return;\r\n\r\n    const targetElement = target as EventTarget;\r\n    targetElement.addEventListener('keydown', handleKeyDown);\r\n\r\n    return () => {\r\n      targetElement.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  }, [handleKeyDown, enabled, target]);\r\n\r\n  const getShortcutsList = useCallback(() => {\r\n    return shortcuts.map(shortcut => ({\r\n      keys: [\r\n        shortcut.ctrlKey && 'Ctrl',\r\n        shortcut.metaKey && 'Cmd',\r\n        shortcut.shiftKey && 'Shift',\r\n        shortcut.altKey && 'Alt',\r\n        shortcut.key\r\n      ].filter(Boolean).join(' + '),\r\n      description: shortcut.description\r\n    }));\r\n  }, [shortcuts]);\r\n\r\n  return {\r\n    getShortcutsList\r\n  };\r\n};\r\n\r\nexport default useKeyboardShortcuts;"],"names":["JsonEditor","forwardRef","value","onChange","onValidationChange","onCursorPositionChange","onSelectionChange","theme","settings","ref","editorRef","useRef","monacoRef","formatDocument","useCallback","current","trigger","undo","redo","selectAll","find","replace","gotoLine","line","column","revealLineInCenter","setPosition","lineNumber","focus","getSelection","getSelectedText","selection","model","getModel","getValueInRange","insertText","text","range","Range","executeEdits","forceMoveMarkers","canUndo","canRedo","useImperativeHandle","getEditor","getMonaco","useEffect","updateOptions","tabSize","indentSize","insertSpaces","indentType","wordWrap","lineNumbers","minimap","enabled","editorOptions","language","automaticLayout","fontSize","fontFamily","scrollBeyondLastLine","renderWhitespace","bracketPairColorization","matchBrackets","showFoldingControls","foldingStrategy","foldingHighlight","autoClosingBrackets","autoClosingQuotes","autoClosingDelete","autoClosingOvertype","autoSurround","autoIndent","formatOnPaste","formatOnType","suggest","showKeywords","showSnippets","showFunctions","showConstructors","showFields","showVariables","showClasses","showStructs","showInterfaces","showModules","showProperties","showEvents","showOperators","showUnits","showValues","showConstants","showEnums","showEnumMembers","showColors","showFiles","showReferences","showFolders","showTypeParameters","showIssues","showUsers","insertMode","filterGraceful","snippetsPreventQuickSuggestions","quickSuggestions","other","comments","strings","multiCursorModifier","multiCursorMergeOverlapping","multiCursorPaste","addExtraSpaceOnTop","autoFindInSelection","seedSearchStringFromSelection","renderValidationDecorations","renderLineHighlight","renderLineHighlightOnlyWhenFocus","undoStopOnWordBoundary","largeFileOptimizations","accessibilitySupport","ariaLabel","cursorBlinking","cursorSmoothCaretAnimation","cursorStyle","cursorWidth","smoothScrolling","mouseWheelScrollSensitivity","fastScrollSensitivity","jsx","className","children","Editor","onMount","editor","monaco","languages","json","jsonDefaults","setDiagnosticsOptions","validate","allowComments","schemas","enableSchemaRequest","schemaValidation","schemaRequest","setLanguageConfiguration","brackets","autoClosingPairs","open","close","notIn","surroundingPairs","markersDisposable","onDidChangeMarkers","uris","editorUri","uri","toString","errors","getModelMarkers","resource","map","marker","startLineNumber","startColumn","message","severity","MarkerSeverity","Error","cursorDisposable","onDidChangeCursorPosition","e","position","selectionDisposable","onDidChangeCursorSelection","startLine","endLine","endLineNumber","endColumn","contentDisposable","onDidChangeContent","addCommand","KeyMod","CtrlCmd","KeyCode","KeyD","Shift","KeyK","Slash","dispose","options","loading","ThemeSelector","onThemeChange","disabled","buttonClass","switchClass","jsxs","title","type","onClick","role","SettingsPanel","isOpen","onClose","onSettingsChange","localSettings","setLocalSettings","useState","handleSettingChange","key","newSettings","target","currentTarget","Number","name","checked","defaultSettings","FileOperations","onOpen","onSave","onNew","isDirty","currentFile","fileInputRef","readFileContent","file","Promise","resolve","reject","reader","FileReader","onload","result","onerror","readAsText","buttonBaseClass","primaryButtonClass","accept","async","event","files","content","fileInfo","size","lastModified","Date","error","click","formatFileSize","bytes","toFixed","FileDropZone","onFileDrop","onError","isDragOver","setIsDragOver","dragCounter","setDragCounter","handleFile","includes","some","ext","toLowerCase","endsWith","validateFile","handleDragEnter","preventDefault","stopPropagation","prev","dataTransfer","items","length","handleDragLeave","newCounter","handleDragOver","dropEffect","handleDrop","Array","from","overlayClass","dropMessageClass","onDragEnter","onDragLeave","onDragOver","onDrop","SearchPanel","isVisible","onSearch","onReplace","onReplaceAll","onFindNext","onFindPrevious","searchResults","currentResultIndex","searchQuery","setSearchQuery","replaceText","setReplaceText","showReplace","setShowReplace","setOptions","caseSensitive","useRegex","wholeWord","trim","handleSearchChange","handleReplaceChange","handleOptionChange","option","handleReplace","handleReplaceAll","handleKeyDown","shiftKey","panelClass","inputClass","toggleButtonClass","active","placeholder","onKeyDown","autoFocus","ErrorBoundary","Component","constructor","props","super","this","state","hasError","getDerivedStateFromError","componentDidCatch","errorInfo","setState","handleRetry","handleReload","window","location","reload","render","fallback","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","Toast","toast","setIsVisible","isLeaving","setIsLeaving","timer","setTimeout","clearTimeout","duration","handleClose","id","baseStyles","getToastStyles","fillRule","clipRule","getIcon","action","label","ToastContainer","toasts","onRemoveToast","getPositionStyles","App","setContent","setErrors","setTheme","cursorPosition","setCursorPosition","setSelection","showSettings","setShowSettings","showSearch","setShowSearch","setCurrentFile","setIsDirty","originalContent","setOriginalContent","setSearchResults","setCurrentResultIndex","removeToast","showSuccess","showError","setToasts","addToast","now","Math","random","substr","filter","clearAllToasts","showWarning","showInfo","useToast","setSettings","toggleTheme","toggleSettings","handleFileOpen","confirm","handleFileSave","filename","blob","Blob","url","URL","createObjectURL","a","document","createElement","href","download","body","appendChild","removeChild","revokeObjectURL","handleFileNew","newContent","handleContentChangeWithDirty","handleFormat","parsed","JSON","parse","formatted","stringify","handleMinify","minified","handleValidate","toggleSearch","shortcuts","shortcutsRef","keyboardEvent","matchingShortcut","shortcut","keyMatch","code","ctrlMatch","ctrlKey","shiftMatch","altMatch","altKey","metaMatch","metaKey","targetElement","addEventListener","removeEventListener","keys","Boolean","join","description","useKeyboardShortcuts","fileInput","querySelector","validationErrors","sel","query","abs"],"mappings":"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"}